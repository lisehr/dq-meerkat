/*! For license information please see DashboardPage.1c3a1c85d09a392be724.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"1uty":function(e,t,n){"use strict";function r(e){return e._erd}e.exports={initState:function(e){return e._erd={},r(e)},getState:r,cleanState:function(e){delete e._erd}}},"3ISj":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("p1x6"),l=n("bcUi"),c=n("kDLi"),s=n("aWce"),u=n("NXk7"),f=n("GkHB"),p=n("Csm0"),d=n("Y8YH");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){g(a,r,o,i,l,"next",e)}function l(e){g(a,r,o,i,l,"throw",e)}i(void 0)}))}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=function(e){var t=e.link,n=e.linkInfo,a=Object(r.useRef)(null),i=w(Object(r.useState)(0),2),l=i[0],s=i[1],u=P(e,l);return t.asDropdown?o.a.createElement(S,{link:t,key:"dashlinks-dropdown","aria-label":p.selectors.components.DashboardLinks.dropDown},o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{onClick:function(){return s(Date.now())},className:"gf-form-label gf-form-label--dashlink","data-placement":"bottom","data-toggle":"dropdown"},o.a.createElement(c.Icon,{name:"bars",style:{marginRight:"4px"}}),o.a.createElement("span",null,n.title)),o.a.createElement("ul",{className:"dropdown-menu ".concat(x(a.current)),role:"menu",ref:a},u.length>0&&u.map((function(e,n){return o.a.createElement("li",{key:"dashlinks-dropdown-item-".concat(e.id,"-").concat(n)},o.a.createElement("a",{href:e.url,target:t.targetBlank?"_blank":void 0,rel:"noreferrer","aria-label":p.selectors.components.DashboardLinks.link},e.title))}))))):o.a.createElement(o.a.Fragment,null,u.length>0&&u.map((function(e,n){return o.a.createElement(S,{link:t,key:"dashlinks-list-item-".concat(e.id,"-").concat(n),"aria-label":p.selectors.components.DashboardLinks.container},o.a.createElement("a",{className:"gf-form-label gf-form-label--dashlink",href:e.url,target:t.targetBlank?"_blank":void 0,rel:"noreferrer","aria-label":p.selectors.components.DashboardLinks.link},o.a.createElement(c.Icon,{name:"apps",style:{marginRight:"4px"}}),o.a.createElement("span",null,e.title)))})))},S=function(e){var t=e.link,n=e.children,r=O(e,["link","children"]);return o.a.createElement("div",v({},r,{className:"gf-form"}),t.tooltip&&o.a.createElement(c.Tooltip,{content:t.tooltip},n),!t.tooltip&&o.a.createElement(o.a.Fragment,null,n))},P=function(e,t){var n=e.link,r=e.dashboardId,o=n.tags,a=Object(d.a)((function(){return function(e){return E.apply(this,arguments)}(o)}),[o,t]);return a.value?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{getLinkSrv:f.b,sanitize:s.c,sanitizeUrl:s.d};return n.filter((function(t){return t.id!==e})).map((function(e){var n=e.id,o=r.sanitize(e.title),a=r.getLinkSrv().getLinkUrl(h({},t,{url:e.url}));return{id:n,title:o,url:r.sanitizeUrl(a)}}))}(r,n,a.value):[]};function E(){return(E=y(regeneratorRuntime.mark((function e(t){var n,r,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{getBackendSrv:u.c},r=100,e.next=4,n.getBackendSrv().search({tag:t,limit:r});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){if(!e)return"invisible";var t=e.parentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return 0===n.width?"invisible":t.left+n.width+10>window.innerWidth?"pull-left":"pull-right"}var C=n("+toN"),D=n("Zcyb"),k=n("GQ3c");function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _=function(e){var t=e.dashboard,n=e.links;if(!n.length)return null;var a=T(Object(r.useReducer)((function(e){return e+1}),0),2)[1];return Object(D.a)((function(){return t.on(k.CoreEvents.timeRangeUpdated,a),function(){t.off(k.CoreEvents.timeRangeUpdated,a)}})),Object(D.a)((function(){return t.on(k.CoreEvents.submenuVisibilityChanged,a),function(){t.off(k.CoreEvents.submenuVisibilityChanged,a)}})),o.a.createElement(o.a.Fragment,null,n.map((function(e,n){var r=Object(f.b)().getAnchorInfo(e),a="".concat(e.title,"-$").concat(n);if("dashboards"===e.type)return o.a.createElement(j,{key:a,link:e,linkInfo:r,dashboardId:t.id});var i=o.a.createElement("a",{className:"gf-form-label gf-form-label--dashlink",href:Object(s.d)(r.href),target:e.targetBlank?"_blank":void 0,rel:"noreferrer","aria-label":p.selectors.components.DashboardLinks.link},o.a.createElement(c.Icon,{name:C.b[e.icon],style:{marginRight:"4px"}}),o.a.createElement("span",null,Object(s.c)(r.title)));return o.a.createElement("div",{key:a,className:"gf-form","aria-label":p.selectors.components.DashboardLinks.container},e.tooltip?o.a.createElement(c.Tooltip,{content:r.tooltip},i):i)})))};function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var z=c.LegacyForms.Switch,N=function(e){var t=e.annotations,n=e.onAnnotationChanged,a=R(Object(r.useState)([]),2),i=a[0],l=a[1];return Object(r.useEffect)((function(){l(t.filter((function(e){return!0!==e.hide})))}),[t]),0===i.length?null:o.a.createElement(o.a.Fragment,null,i.map((function(e){return o.a.createElement("div",{key:e.name,className:e.enable?"submenu-item":"submenu-item annotation-disabled"},o.a.createElement(z,{label:e.name,className:"gf-form",checked:e.enable,onChange:function(){return n(e)}}))})))},I=n("VBuW");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return U}));var W=function(e){function t(){var e,n;M(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=H(this,(e=B(t)).call.apply(e,[this].concat(o)))).onAnnotationStateChanged=function(e){for(var t=0;t<n.props.dashboard.annotations.list.length;t++){var r=n.props.dashboard.annotations.list[t];if(r.name===e.name){r.enable=!r.enable;break}}n.props.dashboard.startRefresh(),n.forceUpdate()},n.isSubMenuVisible=function(){return n.props.dashboard.links.length>0||(n.props.variables.filter((function(e){return e.hide!==l.a.hideVariable})).length>0||n.props.dashboard.annotations.list.filter((function(e){return!0!==e.hide})).length>0)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.dashboard,n=e.variables,r=e.links,a=e.annotations;return this.isSubMenuVisible()?o.a.createElement("div",{className:"submenu-controls"},o.a.createElement(I.a,{variables:n}),o.a.createElement(N,{annotations:a,onAnnotationChanged:this.onAnnotationStateChanged}),o.a.createElement("div",{className:"gf-form gf-form--grow"}),t&&o.a.createElement(_,{dashboard:t,links:r}),o.a.createElement("div",{className:"clearfix"})):null}}])&&L(n.prototype,r),a&&L(n,a),t}(r.PureComponent),U=Object(a.connect)((function(e){return{variables:Object(i.d)(e.templating.variables)}}))(W);U.displayName="SubMenu"},"5jx2":function(e,t,n){var r,o;window,e.exports=(r=n("q1tI"),o=n("i8i4"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(7),o=r.default,a=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=a},function(e,t,n){"use strict";var r=n(6);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(0),i=n.n(a),l=n(2),c=n.n(l),s=n(3),u=n.n(s);function f(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function p(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function d(e){return"number"==typeof e&&!isNaN(e)}function b(e){return parseInt(e,10)}function h(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var m=["Moz","Webkit","O","ms"];function g(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<m.length;n++)if(g(e,m[n])in t)return m[n];return""}();function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="";function j(e,t){return w||(w=f(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return p(e[t])}))),!!p(e[w])&&e[w](t)}function S(e,t,n){var r=e;do{if(j(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function P(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function E(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function x(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=b(n.borderTopWidth))+b(n.borderBottomWidth)}function C(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=b(n.borderLeftWidth))+b(n.borderRightWidth)}function D(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=b(n.paddingTop))-b(n.paddingBottom)}function k(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=b(n.paddingLeft))-b(n.paddingRight)}function T(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(i,", ").concat(l,")")+a}return a}function _(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}function R(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function z(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function N(e){return"both"===e.props.axis||"x"===e.props.axis}function I(e){return"both"===e.props.axis||"y"===e.props.axis}function A(e,t,n){var r="number"==typeof t?function(e,t){return e.targetTouches&&f(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&f(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"==typeof t&&!r)return null;var o=H(n);return function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}(r||e,n.props.offsetParent||o.offsetParent||o.ownerDocument.body,n.props.scale)}function M(e,t,n){var r=e.state,o=!d(r.lastX),a=H(e);return o?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function L(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function H(e){var t=c.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={start:"touchstart",move:"touchmove",stop:"touchend"},Y={start:"mousedown",move:"mousemove",stop:"mouseup"},Q=Y,J=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=U(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==B(o)&&"function"!=typeof o?V(r):o,G(V(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),G(V(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=c.a.findDOMNode(V(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!S(e.target,n.props.handle,t)||n.props.cancel&&S(e.target,n.props.cancel,t))){var o=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(e);n.setState({touchIdentifier:o});var a=A(e,o,V(n));if(null!=a){var i=a.x,l=a.y,s=M(V(n),i,l);n.props.onStart,!1!==n.props.onStart(e,s)&&(n.props.enableUserSelectHack&&_(r),n.setState({dragging:!0,lastX:i,lastY:l}),P(r,Q.move,n.handleDrag),P(r,Q.stop,n.handleDragStop))}}})),G(V(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=A(e,n.state.touchIdentifier,V(n));if(null!=t){var r,o,a,i=t.x,l=t.y;if(Array.isArray(n.props.grid)){var c=i-n.state.lastX,s=l-n.state.lastY,u=F((r=n.props.grid,o=c,a=s,[Math.round(o/r[0])*r[0],Math.round(a/r[1])*r[1]]),2);if(c=u[0],s=u[1],!c&&!s)return;i=n.state.lastX+c,l=n.state.lastY+s}var f=M(V(n),i,l);if(!1!==n.props.onDrag(e,f))n.setState({lastX:i,lastY:l});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(p)}}})),G(V(n),"handleDragStop",(function(e){if(n.state.dragging){var t=A(e,n.state.touchIdentifier,V(n));if(null!=t){var r=t.x,o=t.y,a=M(V(n),r,o),i=c.a.findDOMNode(V(n));i&&n.props.enableUserSelectHack&&R(i.ownerDocument),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,a),i&&(E(i.ownerDocument,Q.move,n.handleDrag),E(i.ownerDocument,Q.stop,n.handleDragStop))}}})),G(V(n),"onMouseDown",(function(e){return Q=Y,n.handleDragStart(e)})),G(V(n),"onMouseUp",(function(e){return Q=Y,n.handleDragStop(e)})),G(V(n),"onTouchStart",(function(e){return Q=X,n.handleDragStart(e)})),G(V(n),"onTouchEnd",(function(e){return Q=X,n.handleDragStop(e)})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=c.a.findDOMNode(this);if(e){var t=e.ownerDocument;E(t,Y.move,this.handleDrag),E(t,X.move,this.handleDrag),E(t,Y.stop,this.handleDragStop),E(t,X.stop,this.handleDragStop),this.props.enableUserSelectHack&&R(t)}}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),{style:z(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&W(n.prototype,r),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),e}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}G(J,"displayName","DraggableCore"),G(J,"propTypes",{allowAnyClick:i.a.bool,disabled:i.a.bool,enableUserSelectHack:i.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.a.arrayOf(i.a.number),handle:i.a.string,cancel:i.a.string,onStart:i.a.func,onDrag:i.a.func,onStop:i.a.func,onMouseDown:i.a.func,scale:i.a.number,className:h,style:h,transform:h}),G(J,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),n.d(t,"default",(function(){return le})),n.d(t,"DraggableCore",(function(){return J}));var le=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=te(t).call(this,e),n=!r||"object"!==Z(r)&&"function"!=typeof r?ne(this):r,ie(ne(n),"onDragStart",(function(e,t){if(!1===n.props.onStart(e,L(ne(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),ie(ne(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;var r=L(ne(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var a=o.x,i=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=H(e);if("string"==typeof r){var a,i=o.ownerDocument,l=i.defaultView;if(!((a="parent"===r?o.parentNode:i.querySelector(r))instanceof l.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var c=l.getComputedStyle(o),s=l.getComputedStyle(a);r={left:-o.offsetLeft+b(s.paddingLeft)+b(c.marginLeft),top:-o.offsetTop+b(s.paddingTop)+b(c.marginTop),right:k(a)-C(o)-o.offsetLeft+b(s.paddingRight)-b(c.marginRight),bottom:D(a)-x(o)-o.offsetTop+b(s.paddingBottom)-b(c.marginBottom)}}return d(r.right)&&(t=Math.min(t,r.right)),d(r.bottom)&&(n=Math.min(n,r.bottom)),d(r.left)&&(t=Math.max(t,r.left)),d(r.top)&&(n=Math.max(n,r.top)),[t,n]}(ne(n),o.x,o.y),2),c=l[0],s=l[1];o.x=c,o.y=s,o.slackX=n.state.slackX+(a-o.x),o.slackY=n.state.slackY+(i-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),ie(ne(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,L(ne(n),t)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,a=o.x,i=o.y;r.x=a,r.y=i}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:ee({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,o.a.Component),oe(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:{x:n.x,y:n.y,prevPropsPosition:ee({},n)}}}]),oe(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&c.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,i=t.defaultClassNameDragging,l=t.defaultClassNameDragged,c=t.position,s=t.positionOffset,f=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),p={},d=null,b=!Boolean(c)||this.state.dragging,h=c||r,m={x:N(this)&&b?this.state.x:h.x,y:I(this)&&b?this.state.y:h.y};this.state.isElementSVG?d=function(e,t){return T(e,t,"")}(m,s):p=function(e,t){var n=T(e,t,"px");return O({},g("transform",y),n)}(m,s);var v=u()(n.props.className||"",a,(ie(e={},i,this.state.dragging),ie(e,l,this.state.dragged),e));return o.a.createElement(J,$({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.a.cloneElement(o.a.Children.only(n),{className:v,style:ee({},n.props.style,{},p),transform:d}))}}]),t}();ie(le,"displayName","Draggable"),ie(le,"propTypes",ee({},J.propTypes,{axis:i.a.oneOf(["both","x","y","none"]),bounds:i.a.oneOfType([i.a.shape({left:i.a.number,right:i.a.number,top:i.a.number,bottom:i.a.number}),i.a.string,i.a.oneOf([!1])]),defaultClassName:i.a.string,defaultClassNameDragging:i.a.string,defaultClassNameDragged:i.a.string,defaultPosition:i.a.shape({x:i.a.number,y:i.a.number}),positionOffset:i.a.shape({x:i.a.oneOfType([i.a.number,i.a.string]),y:i.a.oneOfType([i.a.number,i.a.string])}),position:i.a.shape({x:i.a.number,y:i.a.number}),className:h,style:h,transform:h})),ie(le,"defaultProps",ee({},J.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))}]))},"6iOD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=s(n("17x9")),a=s(n("XaGS")),i=n("T0XP"),l=n("Qgwu"),c=s(n("fEyB"));function s(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){return Object.prototype.toString.call(e)};function E(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,o,s=v(u);function u(){var e;m(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(w(e=s.call.apply(s,[this].concat(n))),"state",e.generateInitialState()),S(w(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,h(h({},e.props.layouts),{},S({},e.state.breakpoint,t)))})),e}return t=u,o=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,a.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,o=e.cols,a=(0,l.getBreakpointFromWidth)(n,t),i=(0,l.getColsFromBreakpoint)(a,o),c=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,a,a,i,c),breakpoint:a,cols:i}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,a.default)(this.props.breakpoints,e.breakpoints)&&(0,a.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,o=t.layouts,a=t.compactType,c=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),s=this.state.breakpoint,u=(0,l.getColsFromBreakpoint)(c,r),f=h({},o);if(s!==c||e.breakpoints!==n||e.cols!==r){s in f||(f[s]=(0,i.cloneLayout)(this.state.layout));var p=(0,l.findOrGenerateResponsiveLayout)(f,n,c,s,u,a);p=(0,i.synchronizeLayoutWithChildren)(p,this.props.children,u,a),f[c]=p,this.props.onLayoutChange(p,f),this.props.onBreakpointChange(c,u),this.setState({breakpoint:c,layout:p,cols:u})}var d=E(this.props.margin,c),b=E(this.props.containerPadding,c);this.props.onWidthChange(this.props.width,d,u,b)}},{key:"render",value:function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.margin),n=e.containerPadding,o=(e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,d(e,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]));return r.createElement(c.default,p({},o,{margin:E(t,this.state.breakpoint),containerPadding:E(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&g(t.prototype,n),o&&g(t,o),u}(r.Component);t.default=x,S(x,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts:function(e,t){if("[object Object]"!==P(e[t]))throw new Error("Layout property must be an object. Received: "+P(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,i.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),S(x,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},margin:[10,10],containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},onBreakpointChange:i.noop,onLayoutChange:i.noop,onWidthChange:i.noop})},"7sSR":function(e,t,n){"use strict";var r=n("t3DW").forEach,o=n("W+U1"),a=n("Sa1T"),i=n("LO96"),l=n("UFhH"),c=n("q7TX"),s=n("GOnX"),u=n("wnTG"),f=n("1uty"),p=n("GNKm"),d=n("yUZ2");function b(e){return Array.isArray(e)||void 0!==e.length}function h(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function m(e){return e&&1===e.nodeType}function g(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=i(),y=l({idGenerator:n,stateHandler:f});t=y}var v=e.reporter;v||(v=c(!1===v));var O=g(e,"batchProcessor",u({reporter:v})),w={};w.callOnAdd=!!g(e,"callOnAdd",!0),w.debug=!!g(e,"debug",!1);var j,S=a(t),P=o({stateHandler:f}),E=g(e,"strategy","object"),x=g(e,"important",!1),C={reporter:v,batchProcessor:O,stateHandler:f,idHandler:t,important:x};if("scroll"===E&&(s.isLegacyOpera()?(v.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),E="object"):s.isIE(9)&&(v.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),E="object")),"scroll"===E)j=d(C);else{if("object"!==E)throw new Error("Invalid strategy name: "+E);j=p(C)}var D={};return{listenTo:function(e,n,o){function a(e){var t=S.get(e);r(t,(function(t){t(e)}))}function i(e,t,n){S.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(m(n))n=[n];else{if(!b(n))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=h(n)}var l=0,c=g(e,"callOnAdd",w.callOnAdd),s=g(e,"onReady",(function(){})),u=g(e,"debug",w.debug);r(n,(function(e){f.getState(e)||(f.initState(e),t.set(e));var p=t.get(e);if(u&&v.log("Attaching listener to element",p,e),!P.isDetectable(e))return u&&v.log(p,"Not detectable."),P.isBusy(e)?(u&&v.log(p,"System busy making it detectable"),i(c,e,o),D[p]=D[p]||[],void D[p].push((function(){++l===n.length&&s()}))):(u&&v.log(p,"Making detectable..."),P.markBusy(e,!0),j.makeDetectable({debug:u,important:x},e,(function(e){if(u&&v.log(p,"onElementDetectable"),f.getState(e)){P.markAsDetectable(e),P.markBusy(e,!1),j.addListener(e,a),i(c,e,o);var t=f.getState(e);if(t&&t.startSize){var d=e.offsetWidth,b=e.offsetHeight;t.startSize.width===d&&t.startSize.height===b||a(e)}D[p]&&r(D[p],(function(e){e()}))}else u&&v.log(p,"Element uninstalled before being detectable.");delete D[p],++l===n.length&&s()})));u&&v.log(p,"Already detecable, adding listener."),i(c,e,o),l++})),l===n.length&&s()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(e){if(!e)return v.error("At least one element is required.");if(m(e))e=[e];else{if(!b(e))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=h(e)}r(e,(function(e){S.removeAllListeners(e),j.uninstall(e),f.cleanState(e)}))},initDocument:function(e){j.initDocument&&j.initDocument(e)}}}},ChGz:function(e,t,n){e.exports=n("fEyB").default,e.exports.utils=n("T0XP"),e.exports.Responsive=n("6iOD").default,e.exports.Responsive.utils=n("Qgwu"),e.exports.WidthProvider=n("NmA4").default},"E56+":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=l(n("17x9")),a=l(n("jqYm")),i=n("H4m+");function l(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return d(p(t=e.call.apply(e,[this].concat(r))||this),"state",{width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height}),d(p(t),"onResize",(function(e,n){var r=n.size;t.props.onResize?(e.persist&&e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},o.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),i=e.onResizeStop,l=e.draggableOpts,c=e.minConstraints,u=e.maxConstraints,p=e.lockAspectRatio,d=e.axis,b=(e.width,e.height,e.resizeHandles),h=e.style,m=e.transformScale,g=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"]);return r.createElement(a.default,{axis:d,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:p,maxConstraints:u,minConstraints:c,onResizeStart:o,onResize:this.onResize,onResizeStop:i,resizeHandles:b,transformScale:m,width:this.state.width},r.createElement("div",s({},g,{style:f(f({},h),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o}(r.Component);t.default=b,d(b,"propTypes",f(f({},i.resizableProps),{},{children:o.default.element}))},FFox:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("TSYQ"),i=n.n(a),l=n("kDLi"),c=n("Xmxp"),s=n("GQ3c"),u=n("kDDq"),f=n("gR9h");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=function(e){var t=e.repeat,n=e.title,a=e.onUpdate,i=e.onCancel,c=p(Object(r.useState)(t),2),s=c[0],u=c[1],d=Object(r.useCallback)((function(e){return u(e)}),[u]);return o.a.createElement(l.Form,{defaultValues:{title:n},onSubmit:function(e){a(e.title,s)}},(function(e){var t=e.register;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.Field,{label:"Title"},o.a.createElement(l.Input,{name:"title",ref:t,type:"text"})),o.a.createElement(l.Field,{label:"Repeat for"},o.a.createElement(f.a,{repeat:s,onChange:d})),o.a.createElement(l.HorizontalGroup,null,o.a.createElement(l.Button,{type:"submit"},"Update"),o.a.createElement(l.Button,{variant:"secondary",onClick:i},"Cancel")))}))};function b(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      label: RowOptionsModal;\n      width: 500px;\n    "]);return b=function(){return e},e}var h=function(e){var t=e.repeat,n=e.title,r=e.onDismiss,a=e.onUpdate,i=m();return o.a.createElement(l.Modal,{isOpen:!0,title:"Row Options",icon:"copy",onDismiss:r,className:i.modal},o.a.createElement(d,{repeat:t,title:n,onCancel:r,onUpdate:a}))},m=Object(l.stylesFactory)((function(){return{modal:Object(u.css)(b())}})),g=function(e){var t=e.repeat,n=e.title,r=e.onUpdate,a=function(e){return function(t,n){r(t,n),e()}};return o.a.createElement(l.ModalsController,null,(function(e){var r=e.showModal,i=e.hideModal;return o.a.createElement("a",{className:"pointer",onClick:function(){r(h,{title:n,repeat:t,onDismiss:i,onUpdate:a(i)})}},o.a.createElement(l.Icon,{name:"cog"}))}))};g.displayName="RowOptionsButton";var y=n("t8hP");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,j(t).call(this,e))).onVariableUpdated=function(){n.forceUpdate()},n.onToggle=function(){n.props.dashboard.toggleRow(n.props.panel),n.setState((function(e){return{collapsed:!e.collapsed}}))},n.onUpdate=function(e,t){n.props.panel.title=e,n.props.panel.repeat=t,n.props.panel.render(),n.props.dashboard.processRepeats(),n.forceUpdate()},n.onDelete=function(){c.b.emit(s.CoreEvents.showConfirmModal,{title:"Delete Row",text:"Are you sure you want to remove this row and all its panels?",altActionText:"Delete row only",icon:"trash-alt",onConfirm:function(){n.props.dashboard.removeRow(n.props.panel,!0)},onAltAction:function(){n.props.dashboard.removeRow(n.props.panel,!1)}})},n.state={collapsed:n.props.panel.collapsed},n.props.dashboard.on(s.CoreEvents.templateVariableValueUpdated,n.onVariableUpdated),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){this.props.dashboard.off(s.CoreEvents.templateVariableValueUpdated,this.onVariableUpdated)}},{key:"render",value:function(){var e=i()({"dashboard-row":!0,"dashboard-row--collapsed":this.state.collapsed}),t=Object(y.getTemplateSrv)().replace(this.props.panel.title,this.props.panel.scopedVars,"text"),n=this.props.panel.panels?this.props.panel.panels.length:0,r=1===n?"panel":"panels",a=!0===this.props.dashboard.meta.canEdit;return o.a.createElement("div",{className:e},o.a.createElement("a",{className:"dashboard-row__title pointer",onClick:this.onToggle},o.a.createElement(l.Icon,{name:this.state.collapsed?"angle-right":"angle-down"}),t,o.a.createElement("span",{className:"dashboard-row__panel_count"},"(",n," ",r,")")),a&&o.a.createElement("div",{className:"dashboard-row__actions"},o.a.createElement(g,{title:this.props.panel.title,repeat:this.props.panel.repeat,onUpdate:this.onUpdate}),o.a.createElement("a",{className:"pointer",onClick:this.onDelete},o.a.createElement(l.Icon,{name:"trash-alt"}))),!0===this.state.collapsed&&o.a.createElement("div",{className:"dashboard-row__toggle-target",onClick:this.onToggle}," "),a&&o.a.createElement("div",{className:"dashboard-row__drag grid-drag-handle"}))}}])&&O(n.prototype,r),a&&O(n,a),t}(o.a.Component);n.d(t,"a",(function(){return P}))},FdMb:function(e,t,n){"use strict";function r(e,t,n,r){var o,a=!1,i=0;function l(){o&&clearTimeout(o)}function c(){var c=this,s=Date.now()-i,u=arguments;function f(){i=Date.now(),n.apply(c,u)}function p(){o=void 0}a||(r&&!o&&f(),l(),void 0===r&&s>e?f():!0!==t&&(o=setTimeout(r?p:f,void 0===r?e-s:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),c.cancel=function(){l(),a=!0},c}function o(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}n.r(t),n.d(t,"throttle",(function(){return r})),n.d(t,"debounce",(function(){return o}))},GNKm:function(e,t,n){"use strict";var r=n("GOnX");e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function a(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function i(e){return o(e).object}return{makeDetectable:function(e,i,l){l||(l=i,i=e,e=null),(e=e||{}).debug,r.isIE(8)?l(i):function(i,l){var c=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),s=!1,u=window.getComputedStyle(i),f=i.offsetWidth,p=i.offsetHeight;function d(){function n(){if("static"===u.position){i.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,o){var a=r[o];"auto"!==a&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(a)&&(t.warn("An element that is positioned static has style."+o+"="+a+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+o+" will be set to 0. Element: ",n),n.style.setProperty(o,"0",e.important?"important":""))};n(t,i,u,"top"),n(t,i,u,"right"),n(t,i,u,"bottom"),n(t,i,u,"left")}}""!==u.position&&(n(),s=!0);var a=document.createElement("object");a.style.cssText=c,a.tabIndex=-1,a.type="text/html",a.setAttribute("aria-hidden","true"),a.onload=function(){s||n(),function e(t,n){if(!t.contentDocument){var r=o(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){l(i)}))},r.isIE()||(a.data="about:blank"),o(i)&&(i.appendChild(a),o(i).object=a,r.isIE()&&(a.data="about:blank"))}o(i).startSize={width:f,height:p},n?n.add(d):d()}(i,l)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))o(e).object={proxy:n},e.attachEvent("onresize",n);else{var a=i(e);if(!a)throw new Error("Element is not detectable by this strategy.");a.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(o(e)){var t=i(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),o(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(e).checkForObjectDocumentTimeoutId),delete o(e).object)}}}}},GOnX:function(e,t,n){"use strict";var r=e.exports={};r.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},r.isLegacyOpera=function(){return!!window.opera}},Gytx:function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var s=a[c];if(!l(s))return!1;var u=e[s],f=t[s];if(!1===(o=n?n.call(r,u,f,s):void 0)||void 0===o&&u!==f)return!1}return!0}},"H4m+":function(e,t,n){"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,o=(r=n("17x9"))&&r.__esModule?r:{default:r};n("Nznp");var a={axis:o.default.oneOf(["both","x","y","none"]),className:o.default.string,children:o.default.element.isRequired,draggableOpts:o.default.shape({allowAnyClick:o.default.bool,cancel:o.default.string,children:o.default.node,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:o.default.node,grid:o.default.arrayOf(o.default.number),handle:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number}),height:o.default.number.isRequired,handle:o.default.oneOfType([o.default.node,o.default.func]),handleSize:o.default.arrayOf(o.default.number),lockAspectRatio:o.default.bool,maxConstraints:o.default.arrayOf(o.default.number),minConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:o.default.number,width:o.default.number.isRequired};t.resizableProps=a},IZOP:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=n("q1tI"),a=r(o),i=r(n("i8i4")),l=r(n("QLaP")),c=n("FdMb"),s=r(n("7sSR")),u=r(n("Gytx"));function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}var P={};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return P[e]||(P[e]=s({strategy:e})),P[e]}var x="react-sizeme: an error occurred whilst stopping to listen to node size changes",C={monitorWidth:!0,monitorHeight:!1,monitorPosition:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function D(e){return e.displayName||e.name||"Component"}var k=function(e){function t(){return f(this,t),S(this,v(t).apply(this,arguments))}return y(t,e),d(t,[{key:"render",value:function(){return o.Children.only(this.props.children)}}]),t}(o.Component);function T(e){var t=e.className,n=e.style,r={};return t||n?(t&&(r.className=t),n&&(r.style=n)):r.style={width:"100%",height:"100%"},a.createElement("div",r)}b(k,"displayName","SizeMeReferenceWrapper"),T.displayName="SizeMePlaceholder";var _=function(e){function t(t){var n=t.explicitRef,r=t.className,o=t.style,i=t.size,l=t.disablePlaceholder,c=(t.onSize,w(t,["explicitRef","className","style","size","disablePlaceholder","onSize"])),s=(null==i||null==i.width&&null==i.height&&null==i.position)&&!l,u={className:r,style:o};null!=i&&(u.size=i);var f=s?a.createElement(T,{className:r,style:o}):a.createElement(e,h({},u,c));return a.createElement(k,{ref:n},f)}return t.displayName="SizeMeRenderer(".concat(D(e),")"),t};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=e.monitorWidth,n=void 0===t?C.monitorWidth:t,r=e.monitorHeight,o=void 0===r?C.monitorHeight:r,s=e.monitorPosition,u=void 0===s?C.monitorPosition:s,p=e.refreshRate,m=void 0===p?C.refreshRate:p,O=e.refreshMode,w=void 0===O?C.refreshMode:O,P=e.noPlaceholder,k=void 0===P?C.noPlaceholder:P,T=e.resizeDetectorStrategy,z=void 0===T?C.resizeDetectorStrategy:T;l(n||o||u,'You have to monitor at least one of the width, height, or position when using "sizeMe"'),l(m>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),l("throttle"===w||"debounce"===w,'The refreshMode should have a value of "throttle" or "debounce"');var N="throttle"===w?c.throttle:c.debounce;return function(e){var t=_(e),r=function(e){function r(){var e,t;f(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return b(j(t=S(this,(e=v(r)).call.apply(e,[this].concat(i)))),"domEl",null),b(j(t),"state",{width:void 0,height:void 0,position:void 0}),b(j(t),"uninstall",(function(){if(t.domEl){try{t.detector.uninstall(t.domEl)}catch(e){console.warn(x)}t.domEl=null}})),b(j(t),"determineStrategy",(function(e){e.onSize?(t.callbackState||(t.callbackState=g({},t.state)),t.strategy="callback"):t.strategy="render"})),b(j(t),"strategisedSetState",(function(e){"callback"===t.strategy&&(t.callbackState=e,t.props.onSize(e)),t.setState(e)})),b(j(t),"strategisedGetState",(function(){return"callback"===t.strategy?t.callbackState:t.state})),b(j(t),"refCallback",(function(e){t.element=e})),b(j(t),"hasSizeChanged",(function(e,t){var r=e,a=t,i=r.position||{},l=a.position||{};return n&&r.width!==a.width||o&&r.height!==a.height||u&&(i.top!==l.top||i.left!==l.left||i.bottom!==l.bottom||i.right!==l.right)})),b(j(t),"checkIfSizeChanged",N(m,(function(e){var r=e.getBoundingClientRect(),a=r.width,i=r.height,l=r.right,c=r.left,s=r.top,f=r.bottom,p={width:n?a:null,height:o?i:null,position:u?{right:l,left:c,top:s,bottom:f}:null};t.hasSizeChanged(t.strategisedGetState(),p)&&t.strategisedSetState(p)}))),t}return y(r,e),d(r,[{key:"componentDidMount",value:function(){this.detector=E(z),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var e=this.element&&i.findDOMNode(this.element);e?this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(e)||this.domEl!==e)&&(this.uninstall(),this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):this.uninstall()}},{key:"render",value:function(){var e=R.enableSSRBehaviour||R.noPlaceholders||k||"callback"===this.strategy,n=g({},this.state);return a.createElement(t,h({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:e},this.props))}}]),r}(a.Component);return b(r,"displayName","SizeMe(".concat(D(e),")")),r.WrappedComponent=e,r}}R.enableSSRBehaviour=!1,R.noPlaceholders=!1;var z=function(e){function t(e){var n;f(this,t),b(j(n=S(this,v(t).call(this,e))),"createComponent",(function(e){n.SizeAware=R(e)((function(e){return e.children}))})),b(j(n),"onSize",(function(e){return n.setState({size:e})}));e.children,e.render;var r=w(e,["children","render"]);return n.createComponent(r),n.state={size:{width:void 0,height:void 0}},n}return y(t,e),d(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.children,t.render,w(t,["children","render"])),r=(e.children,e.render,w(e,["children","render"]));u(n,r)||this.createComponent(n)}},{key:"render",value:function(){var e=this.SizeAware,t=this.props.children||this.props.render;return a.createElement(e,{onSize:this.onSize},t({size:this.state.size}))}}]),t}(o.Component);b(z,"defaultProps",{children:void 0,render:void 0}),R.SizeMe=z,R.withSize=R,e.exports=R},LO96:function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},LvXN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n("q1tI")),o=p(n("i8i4")),a=p(n("17x9")),i=n("5jx2"),l=n("bNWW"),c=n("T0XP"),s=n("q78g"),u=n("TNBa"),f=p(n("TSYQ"));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,a,u=v(p);function p(){var e;m(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(w(e=u.call.apply(u,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),S(w(e),"currentNode",void 0),S(w(e),"onDragStart",(function(t,n){var r=n.node,o=e.props.onDragStart;if(o){var a={top:0,left:0},i=r.offsetParent;if(i){var l=i.getBoundingClientRect(),c=r.getBoundingClientRect(),u=c.left/e.props.transformScale,f=l.left/e.props.transformScale,p=c.top/e.props.transformScale,d=l.top/e.props.transformScale;a.left=u-f+i.scrollLeft,a.top=p-d+i.scrollTop,e.setState({dragging:a});var b=(0,s.calcXY)(e.getPositionParams(),a.top,a.left,e.props.w,e.props.h),h=b.x,m=b.y;return o.call(w(e),e.props.i,h,m,{e:t,node:r,newPosition:a})}}})),S(w(e),"onDrag",(function(t,n){var r=n.node,o=n.deltaX,a=n.deltaY,i=e.props,l=i.onDrag,c=i.transformScale;if(l){if(o/=c,a/=c,!e.state.dragging)throw new Error("onDrag called before onDragStart.");var u=e.state.dragging.top+a,f=e.state.dragging.left+o,p=e.props,d=p.isBounded,b=p.i,h=p.w,m=p.h,g=p.containerWidth,y=e.getPositionParams();if(d){var v=r.offsetParent;if(v){var O=e.props,j=O.margin,S=O.rowHeight,P=v.clientHeight-(0,s.calcGridItemWHPx)(m,S,j[1]);u=(0,s.clamp)(u,0,P);var E=(0,s.calcGridColWidth)(y),x=g-(0,s.calcGridItemWHPx)(h,E,j[0]);f=(0,s.clamp)(f,0,x)}}var C={top:u,left:f};e.setState({dragging:C});var D=(0,s.calcXY)(y,u,f,h,m),k=D.x,T=D.y;return l.call(w(e),b,k,T,{e:t,node:r,newPosition:C})}})),S(w(e),"onDragStop",(function(t,n){var r=n.node,o=e.props.onDragStop;if(o){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var a=e.props,i=a.w,l=a.h,c=a.i,u=e.state.dragging,f=u.left,p=u.top,d={top:p,left:f};e.setState({dragging:null});var b=(0,s.calcXY)(e.getPositionParams(),p,f,i,l),h=b.x,m=b.y;return o.call(w(e),c,h,m,{e:t,node:r,newPosition:d})}})),S(w(e),"onResizeStop",(function(t,n){e.onResizeHandler(t,n,"onResizeStop")})),S(w(e),"onResizeStart",(function(t,n){e.onResizeHandler(t,n,"onResizeStart")})),S(w(e),"onResize",(function(t,n){e.onResizeHandler(t,n,"onResize")})),e}return t=p,(n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,s.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,s.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,c.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=e.droppingPosition||{left:0,top:0},r=this.state.dragging;this.currentNode||(this.currentNode=o.default.findDOMNode(this));var a=r&&t.left!==n.left||t.top!==n.top;if(r){if(a){var i=t.left-r.left,l=t.top-r.top;this.onDrag(t.e,{node:this.currentNode,deltaX:i,deltaY:l})}}else this.onDragStart(t.e,{node:this.currentNode,deltaX:t.left,deltaY:t.top})}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,o=n.containerWidth;return n.useCSSTransforms?t=(0,c.setTransform)(e):(t=(0,c.setTopLeft)(e),r&&(t.left=(0,c.perc)(e.left/o),t.width=(0,c.perc)(e.width/o))),t}},{key:"mixinDraggable",value:function(e,t){return r.default.createElement(i.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale},e)}},{key:"mixinResizable",value:function(e,t,n){var o=this.props,a=o.cols,i=o.x,c=o.minW,u=o.minH,f=o.maxW,p=o.maxH,d=o.transformScale,b=o.resizeHandles,h=o.resizeHandle,m=this.getPositionParams(),g=(0,s.calcGridItemPosition)(m,0,0,a-i,0).width,y=(0,s.calcGridItemPosition)(m,0,0,c,u),v=(0,s.calcGridItemPosition)(m,0,0,f,p),O=[y.width,y.height],w=[Math.min(v.width,g),Math.min(v.height,1/0)];return r.default.createElement(l.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:O,maxConstraints:w,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:d,resizeHandles:b,handle:h},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,o=t.size,a=this.props[n];if(a){var i=this.props,l=i.cols,c=i.x,u=i.y,f=i.i,p=i.maxH,d=i.minH,b=this.props,h=b.minW,m=b.maxW,g=(0,s.calcWH)(this.getPositionParams(),o.width,o.height,c,u),y=g.w,v=g.h;h=Math.max(h,1),m=Math.min(m,l-c),y=(0,s.clamp)(y,h,m),v=(0,s.clamp)(v,d,p),this.setState({resizing:"onResizeStop"===n?null:o}),a.call(this,f,y,v,{e:e,node:r,size:o})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,o=e.w,a=e.h,i=e.isDraggable,l=e.isResizable,c=e.droppingPosition,u=e.useCSSTransforms,p=(0,s.calcGridItemPosition)(this.getPositionParams(),t,n,o,a,this.state),d=r.default.Children.only(this.props.children),b=r.default.cloneElement(d,{className:(0,f.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(c),cssTransforms:u}),style:h(h(h({},this.props.style),d.props.style),this.createStyle(p))});return b=this.mixinResizable(b,p,l),b=this.mixinDraggable(b,i)}}])&&g(t.prototype,n),a&&g(t,a),p}(r.default.Component);t.default=P,S(P,"propTypes",{children:a.default.element,cols:a.default.number.isRequired,containerWidth:a.default.number.isRequired,rowHeight:a.default.number.isRequired,margin:a.default.array.isRequired,maxRows:a.default.number.isRequired,containerPadding:a.default.array.isRequired,x:a.default.number.isRequired,y:a.default.number.isRequired,w:a.default.number.isRequired,h:a.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:a.default.string.isRequired,resizeHandles:u.resizeHandlesType,resizeHandle:u.resizeHandleType,onDragStop:a.default.func,onDragStart:a.default.func,onDrag:a.default.func,onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,isDraggable:a.default.bool.isRequired,isResizable:a.default.bool.isRequired,isBounded:a.default.bool.isRequired,static:a.default.bool,useCSSTransforms:a.default.bool.isRequired,transformScale:a.default.number,className:a.default.string,handle:a.default.string,cancel:a.default.string,droppingPosition:a.default.shape({e:a.default.object.isRequired,left:a.default.number.isRequired,top:a.default.number.isRequired})}),S(P,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},NmA4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,t);var n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(n);if(o){var r=h(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return d(this,e)});function l(){var e;u(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(b(e=i.call.apply(i,[this].concat(n))),"state",{width:1280}),m(b(e),"mounted",!1),m(b(e),"onWindowResize",(function(){if(e.mounted){var t=a.default.findDOMNode(b(e));t instanceof HTMLElement&&e.setState({width:t.offsetWidth})}})),e}return function(e,t,n){t&&f(e.prototype,t);n&&f(e,n)}(l,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["measureBeforeMount"]);return n&&!this.mounted?r.createElement("div",{className:this.props.className,style:this.props.style}):r.createElement(e,s({},o,this.state))}}]),l}(r.Component),m(t,"defaultProps",{measureBeforeMount:!1}),m(t,"propTypes",{measureBeforeMount:o.default.bool}),n};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=i(n("17x9")),a=i(n("i8i4"));function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},Nznp:function(e,t,n){var r,o;window,e.exports=(r=n("q1tI"),o=n("i8i4"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){e.exports=n(11)()},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function o(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function a(e){return"number"==typeof e&&!isNaN(e)}function i(e){return parseInt(e,10)}function l(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l}))},function(e,t,n){"use strict";var r=n(1),o=["Moz","Webkit","O","ms"];function a(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<o.length;n++)if(a(e,o[n])in t)return o[n];return""}();function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return S})),n.d(t,"b",(function(){return P})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return x}));var s="";function u(e,t){return s||(s=Object(r.b)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return Object(r.d)(e[t])}))),!!Object(r.d)(e[s])&&e[s](t)}function f(e,t,n){var r=e;do{if(u(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function p(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function d(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function b(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=Object(r.c)(n.borderTopWidth))+Object(r.c)(n.borderBottomWidth)}function h(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=Object(r.c)(n.borderLeftWidth))+Object(r.c)(n.borderRightWidth)}function m(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=Object(r.c)(n.paddingTop))-Object(r.c)(n.paddingBottom)}function g(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=Object(r.c)(n.paddingLeft))-Object(r.c)(n.paddingRight)}function y(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function v(e,t){var n=w(e,t,"px");return c({},a("transform",i),n)}function O(e,t){return w(e,t,"")}function w(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(i,", ").concat(l,")")+a}return a}function j(e,t){return e.targetTouches&&Object(r.b)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&Object(r.b)(e.changedTouches,(function(e){return t===e.identifier}))}function S(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function P(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}function E(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function x(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return d}));var r=n(1),o=n(6),a=n.n(o),i=n(2);function l(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"==typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var a=b(e);if("string"==typeof o){var l,c=a.ownerDocument,s=c.defaultView;if(!((l="parent"===o?a.parentNode:c.querySelector(o))instanceof s.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var u=s.getComputedStyle(a),f=s.getComputedStyle(l);o={left:-a.offsetLeft+Object(r.c)(f.paddingLeft)+Object(r.c)(u.marginLeft),top:-a.offsetTop+Object(r.c)(f.paddingTop)+Object(r.c)(u.marginTop),right:Object(i.h)(l)-Object(i.l)(a)-a.offsetLeft+Object(r.c)(f.paddingRight)-Object(r.c)(u.marginRight),bottom:Object(i.g)(l)-Object(i.k)(a)-a.offsetTop+Object(r.c)(f.paddingBottom)-Object(r.c)(u.marginBottom)}}return Object(r.e)(o.right)&&(t=Math.min(t,o.right)),Object(r.e)(o.bottom)&&(n=Math.min(n,o.bottom)),Object(r.e)(o.left)&&(t=Math.max(t,o.left)),Object(r.e)(o.top)&&(n=Math.max(n,o.top)),[t,n]}function c(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function s(e){return"both"===e.props.axis||"x"===e.props.axis}function u(e){return"both"===e.props.axis||"y"===e.props.axis}function f(e,t,n){var r="number"==typeof t?Object(i.e)(e,t):null;if("number"==typeof t&&!r)return null;var o=b(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return Object(i.j)(r||e,a)}function p(e,t,n){var o=e.state,a=!Object(r.e)(o.lastX),i=b(e);return a?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}}function d(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function b(e){var t=a.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n(5),o=n.n(r),a=n(0),i=n.n(a),l=n(6),c=n.n(l),s=n(2),u=n(3),f=n(1),p=n(4);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={start:"touchstart",move:"touchmove",stop:"touchend"},w={start:"mousedown",move:"mousemove",stop:"mouseup"},j=w,S=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=m(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==d(o)&&"function"!=typeof o?g(r):o,v(g(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),v(g(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=c.a.findDOMNode(g(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!Object(s.i)(e.target,n.props.handle,t)||n.props.cancel&&Object(s.i)(e.target,n.props.cancel,t))){var o=Object(s.f)(e);n.setState({touchIdentifier:o});var a=Object(u.f)(e,o,g(n));if(null!=a){var i=a.x,l=a.y,f=Object(u.c)(g(n),i,l);Object(p.a)("DraggableCore: handleDragStart: %j",f),Object(p.a)("calling",n.props.onStart),!1!==n.props.onStart(e,f)&&(n.props.enableUserSelectHack&&Object(s.b)(r),n.setState({dragging:!0,lastX:i,lastY:l}),Object(s.a)(r,j.move,n.handleDrag),Object(s.a)(r,j.stop,n.handleDragStop))}}})),v(g(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=Object(u.f)(e,n.state.touchIdentifier,g(n));if(null!=t){var r=t.x,o=t.y;if(Array.isArray(n.props.grid)){var a=r-n.state.lastX,i=o-n.state.lastY,l=b(Object(u.g)(n.props.grid,a,i),2);if(a=l[0],i=l[1],!a&&!i)return;r=n.state.lastX+a,o=n.state.lastY+i}var c=Object(u.c)(g(n),r,o);if(Object(p.a)("DraggableCore: handleDrag: %j",c),!1!==n.props.onDrag(e,c))n.setState({lastX:r,lastY:o});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var s=document.createEvent("MouseEvents");s.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(s)}}})),v(g(n),"handleDragStop",(function(e){if(n.state.dragging){var t=Object(u.f)(e,n.state.touchIdentifier,g(n));if(null!=t){var r=t.x,o=t.y,a=Object(u.c)(g(n),r,o),i=c.a.findDOMNode(g(n));i&&n.props.enableUserSelectHack&&Object(s.n)(i.ownerDocument),Object(p.a)("DraggableCore: handleDragStop: %j",a),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,a),i&&(Object(p.a)("DraggableCore: Removing handlers"),Object(s.m)(i.ownerDocument,j.move,n.handleDrag),Object(s.m)(i.ownerDocument,j.stop,n.handleDragStop))}}})),v(g(n),"onMouseDown",(function(e){return j=w,n.handleDragStart(e)})),v(g(n),"onMouseUp",(function(e){return j=w,n.handleDragStop(e)})),v(g(n),"onTouchStart",(function(e){return j=O,n.handleDragStart(e)})),v(g(n),"onTouchEnd",(function(e){return j=O,n.handleDragStop(e)})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=c.a.findDOMNode(this);if(e){var t=e.ownerDocument;Object(s.m)(t,w.move,this.handleDrag),Object(s.m)(t,O.move,this.handleDrag),Object(s.m)(t,w.stop,this.handleDragStop),Object(s.m)(t,O.stop,this.handleDragStop),this.props.enableUserSelectHack&&Object(s.n)(t)}}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),{style:Object(s.o)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&h(n.prototype,r),t}();v(S,"displayName","DraggableCore"),v(S,"propTypes",{allowAnyClick:i.a.bool,disabled:i.a.bool,enableUserSelectHack:i.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.a.arrayOf(i.a.number),handle:i.a.string,cancel:i.a.string,onStart:i.a.func,onDrag:i.a.func,onStop:i.a.func,onMouseDown:i.a.func,className:f.a,style:f.a,transform:f.a}),v(S,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}})},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(10).default;e.exports=r,e.exports.default=r,e.exports.DraggableCore=n(7).default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(5),o=n.n(r),a=n(0),i=n.n(a),l=n(6),c=n.n(l),s=n(8),u=n.n(s),f=n(2),p=n(3),d=n(1),b=n(7),h=n(4);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=O(t).call(this,e),n=!r||"object"!==m(r)&&"function"!=typeof r?w(this):r,E(w(n),"onDragStart",(function(e,t){if(Object(h.a)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,Object(p.d)(w(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),E(w(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;Object(h.a)("Draggable: onDrag: %j",t);var r=Object(p.d)(w(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var a=o.x,i=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(Object(p.e)(w(n),o.x,o.y),2),c=l[0],s=l[1];o.x=c,o.y=s,o.slackX=n.state.slackX+(a-o.x),o.slackY=n.state.slackY+(i-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),E(w(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,Object(p.d)(w(n),t)))return!1;Object(h.a)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,a=o.x,i=o.y;r.x=a,r.y=i}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:v({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,o.a.Component),S(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:(Object(h.a)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:v({},n)})}}]),S(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&c.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,i=t.defaultClassNameDragging,l=t.defaultClassNameDragged,c=t.position,s=t.positionOffset,d=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),h={},m=null,y=!Boolean(c)||this.state.dragging,O=c||r,w={x:Object(p.a)(this)&&y?this.state.x:O.x,y:Object(p.b)(this)&&y?this.state.y:O.y};this.state.isElementSVG?m=Object(f.d)(w,s):h=Object(f.c)(w,s);var j=u()(n.props.className||"",a,(E(e={},i,this.state.dragging),E(e,l,this.state.dragged),e));return o.a.createElement(b.default,g({},d,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.a.cloneElement(o.a.Children.only(n),{className:j,style:v({},n.props.style,{},h),transform:m}))}}]),t}();E(x,"displayName","Draggable"),E(x,"propTypes",v({},b.default.propTypes,{axis:i.a.oneOf(["both","x","y","none"]),bounds:i.a.oneOfType([i.a.shape({left:i.a.number,right:i.a.number,top:i.a.number,bottom:i.a.number}),i.a.string,i.a.oneOf([!1])]),defaultClassName:i.a.string,defaultClassNameDragging:i.a.string,defaultClassNameDragged:i.a.string,defaultPosition:i.a.shape({x:i.a.number,y:i.a.number}),positionOffset:i.a.shape({x:i.a.oneOfType([i.a.number,i.a.string]),y:i.a.oneOfType([i.a.number,i.a.string])}),position:i.a.shape({x:i.a.number,y:i.a.number}),className:d.a,style:d.a,transform:d.a})),E(x,"defaultProps",v({},b.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,n){"use strict";var r=n(12);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]))},QLaP:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,l){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,a,i,l],u=0;(c=new Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},Qgwu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpointFromWidth=function(e,t){for(var n=o(e),r=n[0],a=1,i=n.length;a<i;a++){var l=n[a];t>e[l]&&(r=l)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,a,i,l){if(e[n])return(0,r.cloneLayout)(e[n]);for(var c=e[a],s=o(t),u=s.slice(s.indexOf(n)),f=0,p=u.length;f<p;f++){var d=u[f];if(e[d]){c=e[d];break}}return c=(0,r.cloneLayout)(c||[]),(0,r.compact)((0,r.correctBounds)(c,{cols:i}),l,i)},t.sortBreakpoints=o;var r=n("T0XP");function o(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},Sa1T:function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(r)},removeListener:function(e,t){for(var r=n(e),o=0,a=r.length;o<a;++o)if(r[o]===t){r.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},T0XP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=s,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=u(e[n]);return t},t.cloneLayoutItem=u,t.childrenEqual=function(e,t){return(0,r.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))},t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.collides=p,t.compact=d,t.compactItem=m,t.correctBounds=g,t.getLayoutItem=y,t.getFirstCollision=v,t.getAllCollisions=O,t.getStatics=w,t.moveElement=j,t.moveElementAwayFromCollision=S,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,o=e.height,a="translate(".concat(n,"px,").concat(t,"px)");return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,o=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(o,"px"),position:"absolute"}},t.sortLayoutItems=P,t.sortLayoutItemsByRowCol=E,t.sortLayoutItemsByColRow=x,t.synchronizeLayoutWithChildren=function(e,t,n,r){e=e||[];var a=[];return o.default.Children.forEach(t,(function(t,n){var r=y(e,String(t.key));if(r)a[n]=u(r);else{0;var o=t.props["data-grid"]||t.props._grid;a[n]=u(o?l(l({},o),{},{i:t.key}):{w:1,h:1,x:0,y:s(a),i:String(t.key)})}})),d(g(a,{cols:n}),r,n)},t.validateLayout=C,t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))},t.noop=t.fastRGLPropsEqual=void 0;var r=a(n("XaGS")),o=a(n("q1tI"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t,n=0,r=0,o=e.length;r<o;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function u(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}var f=n("b06y");function p(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function d(e,t,n){for(var r=w(e),o=P(e,t),a=Array(e.length),i=0,l=o.length;i<l;i++){var c=u(o[i]);c.static||(c=m(r,c,t,n,o),r.push(c)),a[e.indexOf(o[i])]=c,c.moved=!1}return a}t.fastRGLPropsEqual=f;var b={x:"w",y:"h"};function h(e,t,n,r){var o=b[r];t[r]+=1;for(var a=e.map((function(e){return e.i})).indexOf(t.i)+1;a<e.length;a++){var i=e[a];if(!i.static){if(i.y>t.y+t.h)break;p(t,i)&&h(e,i,n+t[o],r)}}t[r]=n}function m(e,t,n,r,o){var a,i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(s(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(i)for(t.y=Math.min(s(e),t.y);t.x>0&&!v(e,t);)t.x--;for(;a=v(e,t);)i?h(o,t,a.x+a.w,"x"):h(o,t,a.y+a.h,"y"),i&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function g(e,t){for(var n=w(e),r=0,o=e.length;r<o;r++){var a=e[r];if(a.x+a.w>t.cols&&(a.x=t.cols-a.w),a.x<0&&(a.x=0,a.w=t.cols),a.static)for(;v(n,a);)a.y++;else n.push(a)}return e}function y(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(p(e[n],t))return e[n]}function O(e,t){return e.filter((function(e){return p(e,t)}))}function w(e){return e.filter((function(e){return e.static}))}function j(e,t,n,r,o,a,i,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;D("Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]"));var c=t.x,s=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var u=P(e,i);("vertical"===i&&"number"==typeof r?s>=r:"horizontal"===i&&"number"==typeof n&&c>=n)&&(u=u.reverse());var f=O(u,t);if(a&&f.length)return D("Collision prevented on ".concat(t.i,", reverting.")),t.x=c,t.y=s,t.moved=!1,e;for(var p=0,d=f.length;p<d;p++){var b=f[p];D("Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(b.i," at [").concat(b.x,",").concat(b.y,"]")),b.moved||(e=b.static?S(e,b,t,o,i,l):S(e,t,b,o,i,l))}return e}function S(e,t,n,r,o,a){var i="horizontal"===o,l="horizontal"!==o,c=t.static;if(r){r=!1;var s={x:i?Math.max(t.x-n.w,0):n.x,y:l?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,s))return D("Doing reverse collision on ".concat(n.i," up to [").concat(s.x,",").concat(s.y,"].")),j(e,n,i?s.x:void 0,l?s.y:void 0,r,c,o,a)}return j(e,n,i?n.x+1:void 0,l?n.y+1:void 0,r,c,o,a)}function P(e,t){return"horizontal"===t?x(e):E(e)}function E(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function x(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,o=e.length;r<o;r++){for(var a=e[r],i=0;i<n.length;i++)if("number"!=typeof a[n[i]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[i]+" must be a number!");if(a.i&&"string"!=typeof a.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==a.static&&"boolean"!=typeof a.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}function D(){}t.noop=function(){}},TNBa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.resizeHandleType=t.resizeHandlesType=void 0;var r=a(n("17x9")),o=a(n("q1tI"));function a(e){return e&&e.__esModule?e:{default:e}}var i=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandlesType=i;var l=r.default.oneOfType([r.default.node,r.default.func]);t.resizeHandleType=l;var c={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n("T0XP").validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:i,resizeHandle:l,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){var n=e[t],r={};o.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))},innerRef:r.default.any};t.default=c},UFhH:function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return r.id=o,o}}}},UL9e:function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];if(null==r&&void 0!==n)return n;return r}},UlFs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Obii"),o=n("q1tI");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e,t){var n=Object(o.useRef)(),i=a(Object(o.useState)(),2),l=i[0],c=i[1];return Object(o.useEffect)((function(){return n.current=e.getQueryRunner().getData(t).subscribe({next:function(e){return c(e)}}),function(){n.current&&n.current.unsubscribe()}}),[e,t.withFieldConfig,t.withTransforms]),{data:l,error:l&&l.error,isLoading:!l||l.state===r.LoadingState.Loading,hasSeries:!!l&&!!l.series}}},VBuW:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("bcUi"),i=n("Csm0"),l=n("Algx"),c=n("kDLi"),s=function(e){var t=Object(r.useMemo)((function(){return l.b.get(e.variable.type).picker}),[e.variable]);return e.variable?o.a.createElement("div",{className:"gf-form"},o.a.createElement(u,{variable:e.variable}),e.variable.hide!==a.a.hideVariable&&t&&o.a.createElement(t,{variable:e.variable})):o.a.createElement("div",null,"Couldn't load variable")};function u(e){var t=e.variable,n=Object(r.useMemo)((function(){return t.label||t.name}),[t]);return t.hide!==a.a.dontHide?null:t.description?o.a.createElement(c.Tooltip,{content:t.description,placement:"bottom"},o.a.createElement("label",{className:"gf-form-label gf-form-label--variable","aria-label":i.selectors.pages.Dashboard.SubMenu.submenuItemLabels(n)},n)):o.a.createElement("label",{className:"gf-form-label gf-form-label--variable","aria-label":i.selectors.pages.Dashboard.SubMenu.submenuItemLabels(n)},n)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return p}));var p=function(e){var t=e.variables,n=f(Object(r.useState)([]),2),l=n[0],c=n[1];return Object(r.useEffect)((function(){c(t.filter((function(e){return e.hide!==a.a.hideVariable})))}),[t]),0===l.length?null:o.a.createElement(o.a.Fragment,null,l.map((function(e){return o.a.createElement("div",{key:e.id,className:"submenu-item gf-form-inline","aria-label":i.selectors.pages.Dashboard.SubMenu.submenuItem},o.a.createElement(s,{variable:e}))})))}},VzO5:function(e,t,n){"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=i(i({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return o.default.cloneElement(e,t)};var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"W+U1":function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},XaGS:function(e,t,n){(function(e,n){var r="[object Arguments]",o="[object Map]",a="[object Object]",i="[object Set]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s[r]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s[o]=s["[object Number]"]=s[a]=s["[object RegExp]"]=s[i]=s["[object String]"]=s["[object WeakMap]"]=!1;var u="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,p=u||f||Function("return this")(),d=t&&!t.nodeType&&t,b=d&&"object"==typeof n&&n&&!n.nodeType&&n,h=b&&b.exports===d,m=h&&u.process,g=function(){try{return m&&m.binding&&m.binding("util")}catch(e){}}(),y=g&&g.isTypedArray;function v(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,S,P,E=Array.prototype,x=Function.prototype,C=Object.prototype,D=p["__core-js_shared__"],k=x.toString,T=C.hasOwnProperty,_=(j=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",R=C.toString,z=RegExp("^"+k.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=h?p.Buffer:void 0,I=p.Symbol,A=p.Uint8Array,M=C.propertyIsEnumerable,L=E.splice,H=I?I.toStringTag:void 0,B=Object.getOwnPropertySymbols,F=N?N.isBuffer:void 0,W=(S=Object.keys,P=Object,function(e){return S(P(e))}),U=ge(p,"DataView"),V=ge(p,"Map"),q=ge(p,"Promise"),G=ge(p,"Set"),X=ge(p,"WeakMap"),Y=ge(Object,"create"),Q=we(U),J=we(V),Z=we(q),$=we(G),K=we(X),ee=I?I.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}function ie(e){var t=this.__data__=new re(e);this.size=t.size}function le(e,t){var n=Pe(e),r=!n&&Se(e),o=!n&&!r&&Ee(e),a=!n&&!r&&!o&&Te(e),i=n||r||o||a,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=l.length;for(var s in e)!t&&!T.call(e,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Oe(s,c))||l.push(s);return l}function ce(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":H&&H in Object(e)?function(e){var t=T.call(e,H),n=e[H];try{e[H]=void 0;var r=!0}catch(e){}var o=R.call(e);r&&(t?e[H]=n:delete e[H]);return o}(e):function(e){return R.call(e)}(e)}function ue(e){return ke(e)&&se(e)==r}function fe(e,t,n,l,c){return e===t||(null==e||null==t||!ke(e)&&!ke(t)?e!=e&&t!=t:function(e,t,n,l,c,s){var u=Pe(e),f=Pe(t),p=u?"[object Array]":ve(e),d=f?"[object Array]":ve(t),b=(p=p==r?a:p)==a,h=(d=d==r?a:d)==a,m=p==d;if(m&&Ee(e)){if(!Ee(t))return!1;u=!0,b=!1}if(m&&!b)return s||(s=new ie),u||Te(e)?be(e,t,n,l,c,s):function(e,t,n,r,a,l,c){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new A(e),new A(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return je(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var s=O;case i:var u=1&r;if(s||(s=w),e.size!=t.size&&!u)return!1;var f=c.get(e);if(f)return f==t;r|=2,c.set(e,t);var p=be(s(e),s(t),r,a,l,c);return c.delete(e),p;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,p,n,l,c,s);if(!(1&n)){var g=b&&T.call(e,"__wrapped__"),y=h&&T.call(t,"__wrapped__");if(g||y){var v=g?e.value():e,j=y?t.value():t;return s||(s=new ie),c(v,j,n,l,s)}}if(!m)return!1;return s||(s=new ie),function(e,t,n,r,o,a){var i=1&n,l=he(e),c=l.length,s=he(t).length;if(c!=s&&!i)return!1;var u=c;for(;u--;){var f=l[u];if(!(i?f in t:T.call(t,f)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var d=!0;a.set(e,t),a.set(t,e);var b=i;for(;++u<c;){f=l[u];var h=e[f],m=t[f];if(r)var g=i?r(m,h,f,t,e,a):r(h,m,f,e,t,a);if(!(void 0===g?h===m||o(h,m,n,r,a):g)){d=!1;break}b||(b="constructor"==f)}if(d&&!b){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,n,l,c,s)}(e,t,n,l,fe,c))}function pe(e){return!(!De(e)||function(e){return!!_&&_ in e}(e))&&(xe(e)?z:l).test(we(e))}function de(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||C,t!==r)return W(e);var t,n,r,o=[];for(var a in Object(e))T.call(e,a)&&"constructor"!=a&&o.push(a);return o}function be(e,t,n,r,o,a){var i=1&n,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var s=a.get(e);if(s&&a.get(t))return s==t;var u=-1,f=!0,p=2&n?new ae:void 0;for(a.set(e,t),a.set(t,e);++u<l;){var d=e[u],b=t[u];if(r)var h=i?r(b,d,u,t,e,a):r(d,b,u,e,t,a);if(void 0!==h){if(h)continue;f=!1;break}if(p){if(!v(t,(function(e,t){if(i=t,!p.has(i)&&(d===e||o(d,e,n,r,a)))return p.push(t);var i}))){f=!1;break}}else if(d!==b&&!o(d,b,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function he(e){return function(e,t,n){var r=t(e);return Pe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,_e,ye)}function me(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ge(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return pe(n)?n:void 0}ne.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return T.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:T.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():L.call(t,n,1),--this.size,!0)},re.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return ce(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(V||re),string:new ne}},oe.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return me(this,e).get(e)},oe.prototype.has=function(e){return me(this,e).has(e)},oe.prototype.set=function(e,t){var n=me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ae.prototype.add=ae.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ae.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.clear=function(){this.__data__=new re,this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ie.prototype.get=function(e){return this.__data__.get(e)},ie.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!V||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(r)}return n.set(e,t),this.size=n.size,this};var ye=B?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}(B(e),(function(t){return M.call(e,t)})))}:function(){return[]},ve=se;function Oe(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||c.test(e))&&e>-1&&e%1==0&&e<t}function we(e){if(null!=e){try{return k.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function je(e,t){return e===t||e!=e&&t!=t}(U&&"[object DataView]"!=ve(new U(new ArrayBuffer(1)))||V&&ve(new V)!=o||q&&"[object Promise]"!=ve(q.resolve())||G&&ve(new G)!=i||X&&"[object WeakMap]"!=ve(new X))&&(ve=function(e){var t=se(e),n=t==a?e.constructor:void 0,r=n?we(n):"";if(r)switch(r){case Q:return"[object DataView]";case J:return o;case Z:return"[object Promise]";case $:return i;case K:return"[object WeakMap]"}return t});var Se=ue(function(){return arguments}())?ue:function(e){return ke(e)&&T.call(e,"callee")&&!M.call(e,"callee")},Pe=Array.isArray;var Ee=F||function(){return!1};function xe(e){if(!De(e))return!1;var t=se(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function De(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Te=y?function(e){return function(t){return e(t)}}(y):function(e){return ke(e)&&Ce(e.length)&&!!s[se(e)]};function _e(e){return null!=(t=e)&&Ce(t.length)&&!xe(t)?le(e):de(e);var t}n.exports=function(e,t){return fe(e,t)}}).call(this,n("yLpj"),n("YuTi")(e))},ZAQQ:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("rYwU"),i=n("kDDq"),l=n("kDLi"),c=n("Obii"),s=n("pugT"),u=n("0/uQ"),f=n("F/XL"),p=n("p0ib"),d=n("gI3B"),b=n("psW0"),h=n("9Z1F"),m=n("2WpN"),g=n("S1nX"),y=n("aGNc"),v=n("ny24"),O=n("V8VS"),w=n("i7Pf");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={loadingState:c.LoadingState.NotStarted,libraryPanels:[],searchString:"",totalCount:0,perPage:10,page:1,numberOfPages:0,currentPanelId:void 0},x=Object(w.b)("libraryPanels/view/initSearch"),C=Object(w.b)("libraryPanels/view/searchCompleted"),D=Object(w.b)("libraryPanels/view/changeSearchString"),k=Object(w.b)("libraryPanels/view/changePage"),T=function(e,t){if(x.match(t))return S({},e,{loadingState:c.LoadingState.Loading});if(C.match(t)){var n=t.payload,r=n.libraryPanels,o=n.page,a=n.perPage,i=n.totalCount,l=Math.ceil(i/a);return S({},e,{libraryPanels:r,perPage:a,totalCount:i,loadingState:c.LoadingState.Done,numberOfPages:l,page:o>l?o-1:o})}return D.match(t)?S({},e,{searchString:t.payload.searchString}):k.match(t)?S({},e,{page:t.payload.page}):e};function _(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){return function(t){var n=new s.a,r=Object(u.a)(Object(O.d)({name:e.searchString,perPage:e.perPage,page:e.page,excludeUid:e.currentPanelId})).pipe(Object(b.b)((function(e){var t=e.perPage,n=e.libraryPanels,r=e.page,o=e.totalCount;return Object(f.a)(C({libraryPanels:n,page:r,perPage:t,totalCount:o}))})),Object(h.a)((function(t){return console.error(t),Object(f.a)(C(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},E,{page:e.page,perPage:e.perPage})))})),Object(m.a)((function(){return n.unsubscribe()})),Object(g.a)());n.add(Object(p.a)(Object(d.a)(50).pipe(Object(y.a)(x()),Object(v.a)(r)),r).subscribe(t))}}function I(e,t){return function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(O.b)(e);case 3:N(t)(r),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){_(a,r,o,i,l,"next",e)}function l(e){_(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()}function A(e){return function(t){return t instanceof Function?t(e):e(t)}}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B={loadingState:c.LoadingState.Loading,dashboardTitles:[]},F=Object(w.b)("libraryPanels/delete/searchCompleted"),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;return F.match(t)?L({},e,{dashboardTitles:t.payload.dashboards.map((function(e){return e.title})),loadingState:c.LoadingState.Done}):e},U=n("NXk7");function V(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function q(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.c)(e.uid);case 2:if((r=t.sent).length){t.next=6;break}return n(F({dashboards:[]})),t.abrupt("return");case 6:return t.next=8,Object(U.c)().search({dashboardIds:r});case 8:o=t.sent,n(F({dashboards:o}));case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){V(a,r,o,i,l,"next",e)}function l(e){V(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}var G=n("KO1d");function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Y=function(e){var t=e.libraryPanel,n=e.onDismiss,a=e.onConfirm,i=Object(l.useStyles)(G.a),s=X(Object(r.useReducer)(W,B),2),u=s[0],f=u.dashboardTitles,p=u.loadingState,d=s[1],b=Object(r.useMemo)((function(){return A(d)}),[d]);Object(r.useEffect)((function(){b(q(t))}),[]);var h=Boolean(f.length),m=p===c.LoadingState.Done;return o.a.createElement(l.Modal,{className:i.modal,title:"Delete library panel",icon:"trash-alt",onDismiss:n,isOpen:!0},m?null:o.a.createElement(Q,null),m?o.a.createElement("div",null,h?o.a.createElement(Z,{dashboardTitles:f}):null,h?null:o.a.createElement(J,null),o.a.createElement(l.HorizontalGroup,null,o.a.createElement(l.Button,{variant:"destructive",onClick:a,disabled:h},"Delete"),o.a.createElement(l.Button,{variant:"secondary",onClick:n},"Cancel"))):null)},Q=function(){return o.a.createElement("span",null,"Loading library panel...")},J=function(){var e=Object(l.useStyles)(G.a);return o.a.createElement("div",{className:e.modalText},"Do you want to delete this panel?")},Z=function(e){var t=e.dashboardTitles,n=Object(l.useStyles)(G.a),r=1===t.length?"dashboard.":"dashboards.",a="".concat(t.length," ").concat(r);return 0===t.length?null:o.a.createElement("div",null,o.a.createElement("p",{className:n.textInfo},"This library panel can not be deleted because it is connected to ",o.a.createElement("strong",null,a)," Remove the library panel from the dashboards listed below and retry."),o.a.createElement("table",{className:n.myTable},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Dashboard name"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:"dash-title-".concat(t)},o.a.createElement("td",null,e))})))))};function $(){var e=ne(["\n      align-self: center;\n    "]);return $=function(){return e},e}function K(){var e=ne(["\n      color: ",";\n    "]);return K=function(){return e},e}function ee(){var e=ne(["\n      margin-right: 0.5ch;\n    "]);return ee=function(){return e},e}function te(){var e=ne(["\n      display: inline;\n    "]);return te=function(){return e},e}function ne(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oe=function(e){var t,n,a=e.libraryPanel,i=e.children,c=e.onClick,s=e.onDelete,u=e.formatDate,f=e.showSecondaryActions,p=Object(l.useStyles)(ae),d=re(Object(r.useState)(!1),2),b=d[0],h=d[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.Card,{heading:a.name,onClick:c?function(){return c(a)}:void 0},o.a.createElement(l.Card.Figure,null,o.a.createElement(l.Icon,{className:p.panelIcon,name:"book-open",size:"xl"})),o.a.createElement(l.Card.Meta,null,o.a.createElement("span",null,"Reusable panel"),o.a.createElement(l.Tooltip,{content:"Connected dashboards",placement:"bottom"},o.a.createElement("div",{className:p.tooltip},o.a.createElement(l.Icon,{name:"apps",className:p.detailIcon}),a.meta.connectedDashboards)),o.a.createElement("span",null,"Last edited ",null!==(t=null==u?void 0:u(null!==(n=a.meta.updated)&&void 0!==n?n:""))&&void 0!==t?t:a.meta.updated," by"," ",a.meta.updatedBy.name)),i&&o.a.createElement(l.Card.Actions,null,i),f&&o.a.createElement(l.Card.SecondaryActions,null,o.a.createElement(l.IconButton,{name:"trash-alt",tooltip:"Delete panel",tooltipPlacement:"bottom",onClick:function(){return h(!0)}}))),b&&o.a.createElement(Y,{libraryPanel:a,onConfirm:function(){null==s||s(a),h(!1)},onDismiss:function(){return h(!1)}}))},ae=function(e){return{tooltip:Object(i.css)(te()),detailIcon:Object(i.css)(ee()),panelIcon:Object(i.css)(K(),e.colors.textWeak),tagList:Object(i.css)($())}};function ie(){var e=fe(["\n      align-self: center;\n    "]);return ie=function(){return e},e}function le(){var e=fe(["\n      margin-top: 10px;\n      align-self: flex-start;\n    "]);return le=function(){return e},e}function ce(){var e=fe(["\n      display: flex;\n    "]);return ce=function(){return e},e}function se(){var e=fe(["\n      display: flex;\n      overflow-x: auto;\n      flex-direction: column;\n    "]);return se=function(){return e},e}function ue(){var e=fe(["\n      display: flex;\n      flex-direction: column;\n      flex-wrap: nowrap;\n      gap: ",";\n      height: 100%;\n      overflow-y: auto;\n    "]);return ue=function(){return e},e}function fe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return he}));var he=function(e){var t=e.children,n=e.className,s=e.onCreateNewPanel,u=e.onClickCard,f=e.formatDate,p=e.showSecondaryActions,d=e.currentPanelId,b=Object(l.useStyles)(me),h=be(Object(r.useReducer)(T,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},E,{currentPanelId:d})),2),m=h[0],g=m.libraryPanels,y=m.searchString,v=m.page,O=m.perPage,w=m.numberOfPages,j=m.loadingState,S=m.currentPanelId,P=h[1],x=Object(r.useMemo)((function(){return A(P)}),[P]);Object(a.a)((function(){return x(N({searchString:y,page:v,perPage:O,currentPanelId:S}))}),300,[y,v,x]);var C=function(e){var t=e.uid;return x(I(t,{searchString:y,page:v,perPage:O}))};return o.a.createElement("div",{className:Object(i.cx)(b.container,n)},o.a.createElement("div",{className:b.searchHeader},o.a.createElement(l.Input,{placeholder:"Search the panel library",prefix:o.a.createElement(l.Icon,{name:"search"}),value:y,autoFocus:!0,onChange:function(e){return x(D({searchString:e.currentTarget.value}))}})),o.a.createElement("div",{className:b.libraryPanelList},j===c.LoadingState.Loading?o.a.createElement("p",null,"Loading library panels..."):g.length<1?o.a.createElement("p",null,"No library panels found."):null==g?void 0:g.map((function(e,n){return o.a.createElement(oe,{key:"shared-panel=".concat(n),libraryPanel:e,onDelete:C,onClick:u,formatDate:f,showSecondaryActions:p},null==t?void 0:t(e,n))}))),g.length?o.a.createElement("div",{className:b.pagination},o.a.createElement(l.Pagination,{currentPage:v,numberOfPages:w,onNavigate:function(e){return x(k({page:e}))},hideWhenSinglePage:!0})):null,s&&o.a.createElement(l.Button,{icon:"plus",className:b.newPanelButton,onClick:s},"Create a new reusable panel"))},me=Object(l.stylesFactory)((function(e){return{container:Object(i.css)(ue(),e.spacing.sm),libraryPanelList:Object(i.css)(se()),searchHeader:Object(i.css)(ce()),newPanelButton:Object(i.css)(le()),pagination:Object(i.css)(ie())}}))},Zcyb:function(e,t,n){"use strict";var r=n("q1tI");t.a=function(e){Object(r.useEffect)(e,[])}},b06y:function(e,t){e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},bNWW:function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n("jqYm").default,e.exports.ResizableBox=n("E56+").default},eIbz:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("kDDq"),l=n("LvDl"),c=n.n(l),s=n("Zss7"),u=n.n(s),f=n("kDLi"),p=n("Csm0"),d=n("ZFWI"),b=n("SMGL"),h=n("3SGO"),m=n("KyLG"),g=n("ZAQQ"),y=n("eXZ6"),v=n("K0rs");function O(){var e=D(["\n      margin: 0;\n    "]);return O=function(){return e},e}function w(){var e=D(["\n      display: flex;\n      align-items: center;\n      cursor: pointer;\n      padding-left: ",";\n      width: ",";\n    "]);return w=function(){return e},e}function j(){var e=D(["\n      display: flex;\n      align-items: center;\n      height: 38px;\n      flex-shrink: 0;\n      width: 100%;\n      font-size: ",";\n      font-weight: ",";\n      padding-left: ",";\n      transition: background-color 0.1s ease-in-out;\n      cursor: move;\n\n      &:hover {\n        background: ",";\n      }\n    "]);return j=function(){return e},e}function S(){var e=D(["\n      padding: ",";\n    "]);return S=function(){return e},e}function P(){var e=D(["\n      display: flex;\n      flex-direction: column;\n      row-gap: ",";\n      padding: 0 "," "," ",";\n      height: 100%;\n    "]);return P=function(){return e},e}function E(){var e=D(["\n      display: flex;\n      flex-direction: row;\n      column-gap: ",";\n      height: 100%;\n\n      > div {\n        justify-self: center;\n        cursor: pointer;\n        background: ",";\n        border-radius: ",";\n        color: ",";\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n\n        &:hover {\n          background: ",";\n        }\n\n        &:hover > #book-icon {\n          background: linear-gradient(#f05a28 30%, #fbca0a 99%);\n        }\n      }\n    "]);return E=function(){return e},e}function x(){var e=D(["\n      overflow: hidden;\n      outline: 2px dotted transparent;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px black, 0 0 0px 4px #1f60c4;\n      animation: "," 2s ease infinite;\n    "]);return x=function(){return e},e}function C(){var e=D(["\n    0% {box-shadow: 0 0 0 2px ",", 0 0 0px 4px ",";}\n    50% {box-shadow: 0 0 0 2px ",", 0 0 0px 4px ",";}\n    100% {box-shadow: 0 0 0 2px ",", 0 0 0px 4px  ",";}\n  "]);return C=function(){return e},e}function D(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var R={addPanel:m.a,updateLocation:h.d},z=Object(a.connect)(void 0,R)((function(e){var t=e.panel,n=e.dashboard,a=e.updateLocation,l=_(Object(r.useState)(!1),2),s=l[0],u=l[1],h=function(e){var r=t.gridPos,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.model,{gridPos:r,libraryPanel:Object(v.d)(e)});n.addPanel(o),n.removePanel(t)},m=Object(f.useStyles)(I),O=Object(r.useMemo)((function(){return function(){var e=c.a.chain(d.b.panels).filter({hideFromList:!1}).map((function(e){return e})).value(),t=[],n=b.a.get(y.g);if(n){var r=JSON.parse(n),o=c.a.find(e,{id:r.type});if(o){var a=c.a.cloneDeep(o);a.name=r.title,a.sort=-1,a.defaults=r,t.push(a)}}return c.a.sortBy(t,"sort")}()}),[]);return o.a.createElement("div",{className:Object(i.cx)("panel-container",m.wrapper)},o.a.createElement(N,{onCancel:function(e){e.preventDefault(),n.removePanel(t)},onBack:s?function(){u(!1)}:void 0,styles:m},s?"Add panel from panel library":"Add panel"),s?o.a.createElement(g.a,{className:m.libraryPanelsWrapper,formatDate:function(e){return n.formatDate(e,"L")},onClickCard:function(e){return h(e)},showSecondaryActions:!1}):o.a.createElement("div",{className:m.actionsWrapper},o.a.createElement("div",{className:m.actionsRow},o.a.createElement("div",{onClick:function(){return e=t.gridPos,r={type:"graph",title:"Panel Title",gridPos:{x:e.x,y:e.y,w:e.w,h:e.h}},n.addPanel(r),n.removePanel(t),void a({query:{editPanel:r.id},partial:!0});var e,r},"aria-label":p.selectors.pages.AddDashboard.addNewPanel},o.a.createElement(f.Icon,{name:"file-blank",size:"xl"}),"Add an empty panel"),o.a.createElement("div",{onClick:function(){n.addPanel({type:"row",title:"Row title",gridPos:{x:0,y:0}}),n.removePanel(t)}},o.a.createElement(f.Icon,{name:"wrap-text",size:"xl"}),"Add a new row")),(d.b.featureToggles.panelLibrary||1===O.length)&&o.a.createElement("div",{className:m.actionsRow},d.b.featureToggles.panelLibrary&&o.a.createElement("div",{onClick:function(){return u(!0)}},o.a.createElement(f.Icon,{name:"book-open",size:"xl"}),"Add a panel from the panel library"),1===O.length&&o.a.createElement("div",{onClick:function(){return e=O[0],r=t.gridPos,o={type:e.id,title:"Panel Title",gridPos:{x:r.x,y:r.y,w:e.defaults.gridPos.w,h:e.defaults.gridPos.h}},e.defaults&&(c.a.defaults(o,e.defaults),o.title=e.defaults.title,b.a.delete(y.g)),n.addPanel(o),void n.removePanel(t);var e,r,o}},o.a.createElement(f.Icon,{name:"clipboard-alt",size:"xl"}),"Paste panel from clipboard"))))})),N=function(e){var t=e.children,n=e.onBack,r=e.onCancel,a=e.styles;return o.a.createElement("div",{className:Object(i.cx)(a.headerRow,"grid-drag-handle")},n&&o.a.createElement("div",{className:a.backButton},o.a.createElement(f.IconButton,{name:"arrow-left",onClick:n,surface:"header",size:"xl"})),!n&&o.a.createElement("div",{className:a.backButton},o.a.createElement(f.Icon,{name:"panel-add",size:"md"})),t&&o.a.createElement("span",null,t),o.a.createElement("div",{className:"flex-grow-1"}),o.a.createElement(f.IconButton,{name:"times",onClick:r,surface:"header"}))},I=function(e){var t=Object(i.keyframes)(C(),e.colors.bodyBg,e.colors.formFocusOutline,e.colors.bodyBg,u()(e.colors.formFocusOutline).darken(20).toHexString(),e.colors.bodyBg,e.colors.formFocusOutline);return{wrapper:Object(i.css)(x(),t),actionsRow:Object(i.css)(E(),e.spacing.sm,e.colors.bg2,e.border.radius.sm,e.colors.text,f.styleMixins.hoverColor(e.colors.bg2,e)),actionsWrapper:Object(i.css)(P(),e.spacing.sm,e.spacing.sm,e.spacing.sm,e.spacing.sm),libraryPanelsWrapper:Object(i.css)(S(),e.spacing.sm),headerRow:Object(i.css)(j(),e.typography.size.md,e.typography.weight.semibold,e.spacing.sm,e.colors.bg2),backButton:Object(i.css)(w(),e.spacing.xs,e.spacing.xl),noMargin:Object(i.css)(O())}};n.d(t,"a",(function(){return z}))},fEyB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("q1tI")),o=u(n("XaGS")),a=u(n("TSYQ")),i=n("T0XP"),l=n("q78g"),c=u(n("LvXN")),s=u(n("TNBa"));function u(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=!1;try{S=/firefox/i.test(navigator.userAgent)}catch(e){}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(f,e);var t,n,s,u=y(f);function f(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),j(O(n=u.call(this,e,t)),"state",{activeDrag:null,layout:(0,i.synchronizeLayoutWithChildren)(n.props.layout,n.props.children,n.props.cols,(0,i.compactType)(n.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),j(O(n),"dragEnterCounter",0),j(O(n),"onDragOver",(function(e){if(S&&-1===e.nativeEvent.target.className.indexOf("react-grid-layout"))return e.preventDefault(),!1;var t=n.props,o=t.droppingItem,a=t.margin,i=t.cols,c=t.rowHeight,s=t.maxRows,u=t.width,f=t.containerPadding,p=n.state.layout,h=e.nativeEvent,m=h.layerX,g=h.layerY,y={left:m,top:g,e:e};if(n.state.droppingDOMNode){if(n.state.droppingPosition){var v=n.state.droppingPosition,O=v.left,w=v.top;(O!=m||w!=g)&&n.setState({droppingPosition:y})}}else{var j={cols:i,margin:a,maxRows:s,rowHeight:c,containerWidth:u,containerPadding:f||a},P=(0,l.calcXY)(j,g,m,o.w,o.h);n.setState({droppingDOMNode:r.default.createElement("div",{key:o.i}),droppingPosition:y,layout:[].concat(b(p),[d(d({},o),{},{x:P.x,y:P.y,static:!1,isDraggable:!0})])})}e.stopPropagation(),e.preventDefault()})),j(O(n),"removeDroppingPlaceholder",(function(){var e=n.props,t=e.droppingItem,r=e.cols,o=n.state.layout,a=(0,i.compact)(o.filter((function(e){return e.i!==t.i})),(0,i.compactType)(n.props),r);n.setState({layout:a,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),j(O(n),"onDragLeave",(function(){n.dragEnterCounter--,0===n.dragEnterCounter&&n.removeDroppingPlaceholder()})),j(O(n),"onDragEnter",(function(){n.dragEnterCounter++})),j(O(n),"onDrop",(function(e){var t=n.props.droppingItem,r=n.state.layout,o=r.find((function(e){return e.i===t.i}));n.dragEnterCounter=0,n.removeDroppingPlaceholder(),n.props.onDrop(r,o,e)})),(0,i.autoBindHandlers)(O(n),["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),n}return t=f,s=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,o.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,i.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,i.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,i.compactType)(e)),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,i.fastRGLPropsEqual)(this.props,e,o.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,i.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onDragStart",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state.layout,c=(0,i.getLayoutItem)(l,e);if(c)return this.setState({oldDragItem:(0,i.cloneLayoutItem)(c),oldLayout:this.state.layout}),this.props.onDragStart(l,c,c,null,o,a)}},{key:"onDrag",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state.oldDragItem,c=this.state.layout,s=this.props.cols,u=(0,i.getLayoutItem)(c,e);if(u){var f={w:u.w,h:u.h,x:u.x,y:u.y,placeholder:!0,i:e};c=(0,i.moveElement)(c,u,t,n,!0,this.props.preventCollision,(0,i.compactType)(this.props),s),this.props.onDrag(c,l,u,f,o,a),this.setState({layout:(0,i.compact)(c,(0,i.compactType)(this.props),s),activeDrag:f})}}},{key:"onDragStop",value:function(e,t,n,r){var o=r.e,a=r.node;if(this.state.activeDrag){var l=this.state.oldDragItem,c=this.state.layout,s=this.props,u=s.cols,f=s.preventCollision,p=(0,i.getLayoutItem)(c,e);if(p){c=(0,i.moveElement)(c,p,t,n,!0,f,(0,i.compactType)(this.props),u),this.props.onDragStop(c,l,p,null,o,a);var d=(0,i.compact)(c,(0,i.compactType)(this.props),u),b=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,b)}}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,o.default)(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state.layout,c=(0,i.getLayoutItem)(l,e);c&&(this.setState({oldResizeItem:(0,i.cloneLayoutItem)(c),oldLayout:this.state.layout}),this.props.onResizeStart(l,c,c,null,o,a))}},{key:"onResize",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state,c=l.layout,s=l.oldResizeItem,u=this.props,f=u.cols,p=u.preventCollision,b=(0,i.getLayoutItem)(c,e);if(b){var h;if(p){var m=(0,i.getAllCollisions)(c,d(d({},b),{},{w:t,h:n})).filter((function(e){return e.i!==b.i}));if(h=m.length>0){var g=1/0,y=1/0;m.forEach((function(e){e.x>b.x&&(g=Math.min(g,e.x)),e.y>b.y&&(y=Math.min(y,e.y))})),Number.isFinite(g)&&(b.w=g-b.x),Number.isFinite(y)&&(b.h=y-b.y)}}h||(b.w=t,b.h=n);var v={w:b.w,h:b.h,x:b.x,y:b.y,static:!0,i:e};this.props.onResize(c,s,b,v,o,a),this.setState({layout:(0,i.compact)(c,(0,i.compactType)(this.props),f),activeDrag:v})}}},{key:"onResizeStop",value:function(e,t,n,r){var o=r.e,a=r.node,l=this.state,c=l.layout,s=l.oldResizeItem,u=this.props.cols,f=(0,i.getLayoutItem)(c,e);this.props.onResizeStop(c,s,f,null,o,a);var p=(0,i.compact)(c,(0,i.compactType)(this.props),u),d=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,d)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,o=t.cols,a=t.margin,i=t.containerPadding,l=t.rowHeight,s=t.maxRows,u=t.useCSSTransforms,f=t.transformScale;return r.default.createElement(c.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:o,margin:a,containerPadding:i||a,maxRows:s,rowHeight:l,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:u,transformScale:f},r.default.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,i.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var o=this.props,a=o.width,l=o.cols,s=o.margin,u=o.containerPadding,f=o.rowHeight,p=o.maxRows,d=o.isDraggable,b=o.isResizable,h=o.isBounded,m=o.useCSSTransforms,g=o.transformScale,y=o.draggableCancel,v=o.draggableHandle,O=o.resizeHandles,w=o.resizeHandle,j=this.state,S=j.mounted,P=j.droppingPosition,E="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&d,x="boolean"==typeof n.isResizable?n.isResizable:!n.static&&b,C=n.resizeHandles||O,D=E&&h&&!1!==n.isBounded;return r.default.createElement(c.default,{containerWidth:a,cols:l,margin:s,containerPadding:u||s,maxRows:p,rowHeight:f,cancel:y,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:E,isResizable:x,isBounded:D,useCSSTransforms:m&&S,usePercentages:!S,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?P:void 0,resizeHandles:C,resizeHandle:w},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.style,l=t.isDroppable,c=t.innerRef,s=(0,a.default)("react-grid-layout",n),u=d({height:this.containerHeight()},o);return r.default.createElement("div",{ref:c,className:s,style:u,onDrop:l?this.onDrop:i.noop,onDragLeave:l?this.onDragLeave:i.noop,onDragEnter:l?this.onDragEnter:i.noop,onDragOver:l?this.onDragOver:i.noop},r.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),l&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&m(t.prototype,n),s&&m(t,s),f}(r.default.Component);t.default=P,j(P,"displayName","ReactGridLayout"),j(P,"propTypes",s.default),j(P,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:i.noop,onDragStart:i.noop,onDrag:i.noop,onDragStop:i.noop,onResizeStart:i.noop,onResize:i.noop,onResizeStop:i.noop,onDrop:i.noop})},gR9h:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("kDLi"),l=n("p1x6"),c=function(e){var t=e.repeat,n=e.onChange,c=Object(a.useSelector)((function(e){return Object(l.g)(e)})),s=Object(r.useMemo)((function(){var e=c.map((function(e){return{label:e.name,value:e.name}}));return 0===e.length&&e.unshift({label:"No template variables found",value:null}),e.unshift({label:"Disable repeating",value:null}),e}),c),u=Object(r.useCallback)((function(e){return n(e.value)}),[n]);return o.a.createElement(i.Select,{value:t,onChange:u,options:s})}},jcCG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI"),o=n.n(r),a=n("kDDq"),i=function(e){var t=e.logoUrl,n=e.title,r=e.description,i=e.labels,l=e.actions,c=e.onClick,s=e.ariaLabel,u=e.className,f=Object(a.cx)("add-data-source-item",u);return o.a.createElement("div",{className:f,onClick:c,"aria-label":s},t&&o.a.createElement("img",{className:"add-data-source-item-logo",src:t}),o.a.createElement("div",{className:"add-data-source-item-text-wrapper"},o.a.createElement("span",{className:"add-data-source-item-text"},n),r&&o.a.createElement("span",{className:"add-data-source-item-desc"},r),i&&o.a.createElement("div",{className:"add-data-source-item-badge"},i)),l&&o.a.createElement("div",{className:"add-data-source-item-actions"},l))}},jqYm:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n("q1tI"))&&r.__esModule?r:{default:r},a=n("Nznp"),i=n("VzO5"),l=n("H4m+");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(f(t=e.call.apply(e,[this].concat(r))||this),"state",void 0),p(f(t),"lastHandleRect",null),p(f(t),"slack",null),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentWillUnmount=function(){this.resetData()},l.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],o=n[1];if(!r&&!o)return[e,t];if(this.props.lockAspectRatio)if(t===this.props.height){var a=this.props.width/this.props.height;e=(t=e/a)*a}else{var i=this.props.height/this.props.width;t=(e=t/i)*i}var l=e,c=t,s=this.slack||[0,0],u=s[0],f=s[1];return e+=u,t+=f,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),this.slack=[u+(l-e),f+(c-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(r,o){var a=o.node,i=o.deltaX,l=o.deltaY;"onResizeStart"===e&&n.resetData();var c=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,s=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(c||s){var u=t[0],f=t[t.length-1],p=a.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===f)i+=p.left-n.lastHandleRect.left;if("n"===u)l+=p.top-n.lastHandleRect.top}n.lastHandleRect=p,"w"===f&&(i=-i),"n"===u&&(l=-l);var d=n.props.width+(c?i/n.props.transformScale:0),b=n.props.height+(s?l/n.props.transformScale:0),h=n.runConstraints(d,b);d=h[0],b=h[1];var m=d!==n.props.width||b!==n.props.height,g="function"==typeof n.props[e]?n.props[e]:null;g&&!("onResize"===e&&!m)&&("function"==typeof r.persist&&r.persist(),g(r,{node:a,size:{width:d,height:b},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"==typeof t?t(e):t:o.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},l.render=function(){var e=this,t=this.props,n=t.children,r=t.className,l=t.draggableOpts,s=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),f=(t.transformScale,function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"]));return(0,i.cloneElement)(n,u(u({},f),{},{className:(r?r+" ":"")+"react-resizable",children:[].concat(n.props.children,s.map((function(t){return o.default.createElement(a.DraggableCore,c({},l,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))})))}))},r}(o.default.Component);t.default=d,p(d,"propTypes",l.resizableProps),p(d,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1})},kt0J:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("UlFs"),l=n("t8hP"),c=n("kDLi"),s=n("Hi79"),u=function(e){var t,n=e.data,r=e.metadataDatasource;return r&&(null===(t=r.components)||void 0===t?void 0:t.MetadataInspector)?o.a.createElement(r.components.MetadataInspector,{datasource:r,data:n.series}):o.a.createElement("div",null,"No Metadata Inspector")},f=n("kDDq"),p=n("Obii");function d(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      padding-left: ",";\n      margin: "," -"," -"," -",";\n    "]);return d=function(){return e},e}var b=function(e){var t=e.tab,n=e.tabs,r=e.onSelectTab,a=e.data,i=Object(c.useTheme)(),l=h(i);return o.a.createElement(o.a.Fragment,null,a&&o.a.createElement("div",{className:"muted"},function(e){var t=e.request;if(!t)return"";var n=t.targets.length,r=t.endTime?t.endTime-t.startTime:0,o=Object(p.formattedValueToString)(Object(p.getValueFormat)("ms")(r));return"".concat(n," queries with total query time of ").concat(o)}(a)),o.a.createElement(c.TabsBar,{className:l.tabsBar},n.map((function(e,n){return o.a.createElement(c.Tab,{key:"".concat(e.value,"-").concat(n),label:e.label,active:e.value===t,onChangeTab:function(){return r(e)}})}))))},h=Object(c.stylesFactory)((function(e){return{tabsBar:Object(f.css)(d(),e.spacing.md,e.spacing.lg,e.spacing.sm,e.spacing.lg,e.spacing.lg)}}));var m=n("HgkN"),g=n("LInY"),y=n("SVrL"),v=function(e){var t=e.error;return t?t.data?o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,t.data.message),o.a.createElement(c.JSONFormatter,{json:t,open:2})):o.a.createElement("div",null,t.message):null},O=n("6PW0"),w=n("/e1h");function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=function(e){var t=e.panel,n=e.plugin,a=e.dashboard,i=e.tabs,f=e.data,p=e.isDataLoading,d=e.dataOptions,h=e.metadataDatasource,S=e.defaultTab,P=e.onDataOptionsChange,E=e.onClose,x=j(Object(r.useState)(null!=S?S:w.a.Data),2),C=x[0],D=x[1];if(!n)return null;var k=Object(s.a)(),T=null==f?void 0:f.error,_=C;i.find((function(e){return e.value===C}))||(_=w.a.JSON);var R=Object(l.getTemplateSrv)().replace(t.title,t.scopedVars,"text");return o.a.createElement(c.Drawer,{title:"Inspect: ".concat(R||"Panel"),subtitle:o.a.createElement(b,{tabs:i,tab:_,data:f,onSelectTab:function(e){return D(e.value||w.a.Data)}}),width:"50%",onClose:E,expandable:!0},_===w.a.Data&&o.a.createElement(O.a,{panel:t,data:f&&f.series,isLoading:p,options:d,onOptionsChange:P}),o.a.createElement(c.CustomScrollbar,{autoHeightMin:"100%"},o.a.createElement(c.TabContent,{className:k.tabContent},f&&_===w.a.Meta&&o.a.createElement(u,{data:f,metadataDatasource:h}),_===w.a.JSON&&o.a.createElement(m.a,{panel:t,dashboard:a,data:f,onClose:E}),_===w.a.Error&&o.a.createElement(v,{error:T}),f&&_===w.a.Stats&&o.a.createElement(y.a,{data:f,timeZone:a.getTimezone()}),f&&_===w.a.Query&&o.a.createElement(g.a,{panel:t,data:f.series,onRefreshQuery:function(){return t.refresh()}}))))},P=n("aBYM"),E=n.n(P),x=n("sCrc");function C(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){C(a,r,o,i,l,"next",e)}function l(e){C(a,r,o,i,l,"throw",e)}i(void 0)}))}}var k=n("3SGO");function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return _}));var _=Object(a.connect)((function(e,t){var n=e.dashboard.panels[t.panel.id];return n?{plugin:n.plugin}:{plugin:null}}))((function(e){var t=e.panel,n=e.dashboard,c=e.defaultTab,s=e.plugin;if(!s)return null;var u=Object(a.useDispatch)(),f=T(Object(r.useState)({withTransforms:!1,withFieldConfig:!0}),2),p=f[0],d=f[1],b=Object(i.a)(t,p),h=b.data,m=b.isLoading,g=b.error,y=function(e){return E()(D(regeneratorRuntime.mark((function t(){var n,r,o,a,i,c,s,u,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(null==e||null===(n=e.request)||void 0===n?void 0:n.targets)||[],!(e&&e.series&&r.length)){t.next=32;break}o=!0,a=!1,i=void 0,t.prev=5,c=e.series[Symbol.iterator]();case 7:if(o=(s=c.next()).done){t.next=18;break}if(!(u=s.value).meta||!u.meta.custom){t.next=15;break}return t.next=12,Object(l.getDataSourceSrv)().get(r[0].datasource);case 12:if(!(p=t.sent)||!(null===(f=p.components)||void 0===f?void 0:f.MetadataInspector)){t.next=15;break}return t.abrupt("return",p);case 15:o=!0,t.next=7;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(5),a=!0,i=t.t0;case 24:t.prev=24,t.prev=25,o||null==c.return||c.return();case 27:if(t.prev=27,!a){t.next=30;break}throw i;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt("return",void 0);case 33:case"end":return t.stop()}}),t,null,[[5,20,24,32],[25,,27,31]])}))),[e]).value}(h),v=function(e,t,n,o){return Object(r.useMemo)((function(){var r=[];return Object(x.b)(e)&&(r.push({label:"Data",value:w.a.Data}),r.push({label:"Stats",value:w.a.Stats})),o&&r.push({label:"Meta Data",value:w.a.Meta}),r.push({label:"JSON",value:w.a.JSON}),n&&n.message&&r.push({label:"Error",value:w.a.Error}),t.meta.canEdit&&Object(x.b)(e)&&r.push({label:"Query",value:w.a.Query}),r}),[e,o,t,n])}(s,n,g,y),O=Object(r.useCallback)((function(){u(Object(k.d)({query:{inspect:null,inspectTab:null},partial:!0}))}),[k.d]);return o.a.createElement(S,{dashboard:n,panel:t,plugin:s,defaultTab:c,tabs:v,data:h,isDataLoading:m,dataOptions:p,onDataOptionsChange:d,metadataDatasource:y,onClose:O})}))},lEZL:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("jYz7"),l=n("kDDq"),c=n("pugT"),s=n("Csm0"),u=n("kDLi"),f=n("ZFWI"),p=n("HJRA"),d=n("sCrc"),b=n("t8hP"),h=n("2nhE"),m=n("QQVG"),g=n("3ulR");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n                  direction: ltr;\n                "]);return v=function(){return e},e}function O(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){O(a,r,o,i,l,"next",e)}function l(e){O(a,r,o,i,l,"throw",e)}i(void 0)}))}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(){var e,n;j(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=P(this,(e=E(t)).call.apply(e,[this].concat(o)))).state={stateHistoryItems:[]},n.clearHistory=w(regeneratorRuntime.mark((function e(){var t,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.dashboard,o=t.panelId,a=t.onRefresh,e.next=3,Object(b.getBackendSrv)().post("/api/annotations/mass-delete",{dashboardId:r.id,panelId:o});case 3:n.setState({stateHistoryItems:[]}),a();case 5:case"end":return e.stop()}}),e)}))),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dashboard,r=t.panelId;Object(b.getBackendSrv)().get("/api/annotations?dashboardId=".concat(n.id,"&panelId=").concat(r,"&limit=50&type=alert"),{},"state-history-".concat(n.id,"-").concat(r)).then((function(t){var r=t.map((function(e){return{stateModel:g.a.getStateDisplayModel(e.newState),time:n.formatDate(e.time,"MMM D, YYYY HH:mm:ss"),info:g.a.getAlertAnnotationInfo(e)}}));e.setState({stateHistoryItems:r})}))}},{key:"render",value:function(){var e=this.state.stateHistoryItems;return o.a.createElement("div",null,e.length>0&&o.a.createElement("div",{className:"p-b-1"},o.a.createElement("span",{className:"muted"},"Last 50 state changes"),o.a.createElement(u.ConfirmButton,{onConfirm:this.clearHistory,confirmVariant:"destructive",confirmText:"Clear"},o.a.createElement(u.Button,{className:Object(l.css)(v()),variant:"destructive",icon:"trash-alt"},"Clear history"))),o.a.createElement("ol",{className:"alert-rule-list"},e.length>0?e.map((function(e,t){return o.a.createElement("li",{className:"alert-rule-item",key:"".concat(e.time,"-").concat(t)},o.a.createElement("div",{className:"alert-rule-item__icon ".concat(e.stateModel.stateClass)},o.a.createElement(u.Icon,{name:e.stateModel.iconClass,size:"xl"})),o.a.createElement("div",{className:"alert-rule-item__body"},o.a.createElement("div",{className:"alert-rule-item__header"},o.a.createElement("p",{className:"alert-rule-item__name"},e.alertName),o.a.createElement("div",{className:"alert-rule-item__text"},o.a.createElement("span",{className:"".concat(e.stateModel.stateClass)},e.stateModel.text))),e.info),o.a.createElement("div",{className:"alert-rule-item__time"},e.time))})):o.a.createElement("i",null,"No state changes recorded")))}}])&&S(n.prototype,r),a&&S(n,a),t}(r.PureComponent),D=(n("eK0o"),n("Xmxp")),k=n("ttS0"),T=n("Obii");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){var e,n;A(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=L(this,(e=H(t)).call.apply(e,[this].concat(a)))).state={isLoading:!1,allNodesExpanded:null,testRuleResponse:{}},n.setFormattedJson=function(e){n.formattedJson=e},n.getTextForClipboard=function(){return JSON.stringify(n.formattedJson,null,2)},n.onClipboardSuccess=function(){D.b.emit(T.AppEvents.alertSuccess,["Content copied to clipboard"])},n.onToggleExpand=function(){n.setState((function(e){return N({},e,{allNodesExpanded:!n.state.allNodesExpanded})}))},n.getNrOfOpenNodes=function(){return null===n.state.allNodesExpanded?3:n.state.allNodesExpanded?20:1},n.renderExpandCollapse=function(){var e=n.state.allNodesExpanded,t=o.a.createElement(o.a.Fragment,null,o.a.createElement(u.Icon,{name:"minus-circle"})," Collapse All"),r=o.a.createElement(o.a.Fragment,null,o.a.createElement(u.Icon,{name:"plus-circle"})," Expand All");return e?t:r},n}var n,r,a,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.testRule()}},{key:"testRule",value:(i=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.dashboard,r=t.panel,(o=n.getSaveModelClone()).panels=o.panels.map((function(e){return e.id===r.editSourceId?r.getSaveModel():e})),a={dashboard:o,panelId:r.id},this.setState({isLoading:!0}),e.next=7,Object(b.getBackendSrv)().post("/api/alerts/test",a);case 7:i=e.sent,this.setState({isLoading:!1,testRuleResponse:i});case 9:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){R(o,n,r,a,l,"next",e)}function l(e){R(o,n,r,a,l,"throw",e)}a(void 0)}))},function(){return l.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.testRuleResponse;if(!0===e.isLoading)return o.a.createElement(u.LoadingPlaceholder,{text:"Evaluating rule"});var n=this.getNrOfOpenNodes();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"pull-right"},o.a.createElement("button",{className:"btn btn-transparent btn-p-x-0 m-r-1",onClick:this.onToggleExpand},this.renderExpandCollapse()),o.a.createElement(k.a,{className:"btn btn-transparent btn-p-x-0",text:this.getTextForClipboard,onSuccess:this.onClipboardSuccess},o.a.createElement(u.Icon,{name:"copy"})," Copy to Clipboard")),o.a.createElement(u.JSONFormatter,{json:t,open:n,onDidRender:this.setFormattedJson}))}}])&&M(n.prototype,r),a&&M(n,a),t}(r.PureComponent),W=n("GQ3c"),U=n("bfds"),V=n("eLz+"),q=n("3SGO"),G=function(e){var t=e.message,n=e.dispatch,i=n||Object(a.useDispatch)(),l=Object(r.useCallback)((function(){i(Object(q.d)({query:{tab:V.b.Query},partial:!0}))}),[i]);return o.a.createElement(U.c,{justify:"center",style:{marginTop:"100px"}},o.a.createElement(u.VerticalGroup,{spacing:"md"},o.a.createElement("h2",null,t),o.a.createElement("div",null,o.a.createElement(u.Button,{size:"md",variant:"secondary",icon:"arrow-left",onClick:l},"Go back to Queries"))))};function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re,oe=function(e){function t(){var e,n;$(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=ee(this,(e=te(t)).call.apply(e,[this].concat(a)))).state={validationMessage:"",showStateHistory:!1,showDeleteConfirmation:!1,showTestRule:!1},n.onAngularPanelUpdated=function(){n.forceUpdate()},n.onAddAlert=function(){n.panelCtrl._enableAlert(),n.component.digest(),n.forceUpdate()},n.onToggleModal=function(e){var t=n.state[e];n.setState(J({},n.state,Z({},e,!t)))},n.renderTestRule=function(){if(!n.state.showTestRule)return null;var e=n.props,t=e.panel,r=e.dashboard,a=function(){return n.onToggleModal("showTestRule")};return o.a.createElement(u.Modal,{isOpen:!0,icon:"bug",title:"Testing rule",onDismiss:a,onClickBackdrop:a},o.a.createElement(F,{panel:t,dashboard:r}))},n.renderDeleteConfirmation=function(){if(!n.state.showDeleteConfirmation)return null;var e=n.props.panel,t=function(){return n.onToggleModal("showDeleteConfirmation")};return o.a.createElement(u.ConfirmModal,{isOpen:!0,icon:"trash-alt",title:"Delete",body:o.a.createElement("div",null,"Are you sure you want to delete this alert rule?",o.a.createElement("br",null),o.a.createElement("small",null,"You need to save dashboard for the delete to take effect.")),confirmText:"Delete Alert",onDismiss:t,onConfirm:function(){delete e.alert,e.thresholds=[],n.panelCtrl.alertState=null,n.panelCtrl.render(),n.component.digest(),t()}})},n.renderStateHistory=function(){var e;if(!n.state.showStateHistory)return null;var t=n.props,r=t.panel,a=t.dashboard,i=function(){return n.onToggleModal("showStateHistory")};return o.a.createElement(u.Modal,{isOpen:!0,icon:"history",title:"State history",onDismiss:i,onClickBackdrop:i},o.a.createElement(C,{dashboard:a,panelId:null!==(e=r.editSourceId)&&void 0!==e?e:r.id,onRefresh:function(){return n.panelCtrl.refresh()}}))},n}var n,r,a,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.loadAlertTab()}},{key:"componentDidUpdate",value:function(e){this.loadAlertTab()}},{key:"componentWillUnmount",value:function(){this.component&&this.component.destroy()}},{key:"loadAlertTab",value:(i=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,l,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.panel,r=t.angularPanelComponent,this.element&&r&&!this.component){e.next=3;break}return e.abrupt("return");case 3:if((o=r.getScope()).$$childHead){e.next=7;break}return setTimeout((function(){c.forceUpdate()})),e.abrupt("return");case 7:return this.panelCtrl=o.$$childHead.ctrl,a=Object(b.getAngularLoader)(),i={ctrl:this.panelCtrl},this.component=a.load(this.element,i,"<alert-tab />"),e.next=14,Object(h.a)(n.transformations,n.targets,Object(b.getDataSourceSrv)(),n.datasource);case 14:(l=e.sent)&&this.setState({validationMessage:l});case 16:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){Y(o,n,r,a,l,"next",e)}function l(e){Y(o,n,r,a,l,"throw",e)}a(void 0)}))},function(){return l.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.panel,n=t.alert,r=t.transformations,a=this.state.validationMessage,i=r&&r.length>0;if(!n&&a)return o.a.createElement(G,{message:a});var l={title:"Panel has no alert rule defined",buttonIcon:"bell",onClick:this.onAddAlert,buttonTitle:"Create Alert"};return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.CustomScrollbar,{autoHeightMin:"100%"},o.a.createElement(u.Container,{padding:"md"},o.a.createElement("div",{"aria-label":s.selectors.components.AlertTab.content},n&&i&&o.a.createElement(u.Alert,{severity:W.AppNotificationSeverity.Error,title:"Transformations are not supported in alert queries"}),o.a.createElement("div",{ref:function(t){return e.element=t}}),n&&o.a.createElement(u.HorizontalGroup,null,o.a.createElement(u.Button,{onClick:function(){return e.onToggleModal("showStateHistory")},variant:"secondary"},"State history"),o.a.createElement(u.Button,{onClick:function(){return e.onToggleModal("showTestRule")},variant:"secondary"},"Test rule"),o.a.createElement(u.Button,{onClick:function(){return e.onToggleModal("showDeleteConfirmation")},variant:"destructive"},"Delete")),!n&&!a&&o.a.createElement(m.a,l)))),this.renderTestRule(),this.renderDeleteConfirmation(),this.renderStateHistory())}}])&&K(n.prototype,r),a&&K(n,a),t}(r.PureComponent),ae=Object(a.connect)((function(e,t){return{angularPanelComponent:e.dashboard.panels[t.panel.id].angularComponent}}),{})(oe),ie=n("jcCG");function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=(le(re={},T.DocsId.Transformations,"https://grafana.com/docs/grafana/latest/panels/transformations"),le(re,T.DocsId.FieldConfig,"https://grafana.com/docs/grafana/latest/panels/field-configuration-options/"),le(re,T.DocsId.FieldConfigOverrides,"https://grafana.com/docs/grafana/latest/panels/field-configuration-options/#override-a-field"),re),se=function(e){return ce[e]},ue=n("ngQI"),fe=n("psW0");function pe(){var e=je(["\n      flex-grow: 1;\n      height: 100%;\n      overflow: hidden;\n      padding: ",";\n    "]);return pe=function(){return e},e}function de(){var e=je(["\n      margin-top: ",";\n      padding: 0 "," "," ",";\n      border: 1px solid ",";\n      background: ",";\n      border-radius: ",";\n      width: 100%;\n      min-height: 300px;\n      display: flex;\n      flex-direction: column;\n      align-self: stretch;\n    "]);return de=function(){return e},e}function be(){var e=je(["\n      padding: "," ",";\n      font-family: ",";\n      font-size: ",";\n      color: ",";\n      border-bottom: 1px solid ",";\n      flex-grow: 0;\n      flex-shrink: 1;\n    "]);return be=function(){return e},e}function he(){var e=je(["\n      width: 48px;\n      min-height: 300px;\n      display: flex;\n      align-items: center;\n      align-self: stretch;\n      justify-content: center;\n      margin: 0 ",";\n      color: ",";\n    "]);return he=function(){return e},e}function me(){var e=je(["\n      display: flex;\n      flex-direction: row;\n    "]);return me=function(){return e},e}function ge(){var e=je([""]);return ge=function(){return e},e}function ye(){var e=je(["\n      background: transparent;\n      border: none;\n      box-shadow: none;\n      cursor: pointer;\n      color: ",";\n      margin-left: ",";\n      &:hover {\n        color: ",";\n      }\n    "]);return ye=function(){return e},e}function ve(){var e=je(["\n      display: flex;\n    "]);return ve=function(){return e},e}function Oe(){var e=je(["\n      font-weight: ",";\n      color: ",";\n    "]);return Oe=function(){return e},e}function we(){var e=je(["\n      display: flex;\n      padding: 4px 8px 4px 8px;\n      position: relative;\n      height: 35px;\n      border-radius: 4px 4px 0 0;\n      flex-wrap: nowrap;\n      justify-content: space-between;\n      align-items: center;\n    "]);return we=function(){return e},e}function je(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ce=function(e){var t=e.debugMode,n=e.index,a=e.data,i=e.uiConfig,l=e.configs,c=e.onChange,f=Object(u.useStyles)(De),p=xe(Object(r.useState)([]),2),d=p[0],b=p[1],h=xe(Object(r.useState)([]),2),m=h[0],g=h[1],y=Object(r.useMemo)((function(){return l[n]}),[l,n]);Object(r.useEffect)((function(){var e=l.slice(0,n).map((function(e){return e.transformation})),t=l.slice(n,n+1).map((function(e){return e.transformation})),r=Object(T.transformDataFrame)(e,a).subscribe(b),o=Object(T.transformDataFrame)(e,a).pipe(Object(fe.b)((function(e){return Object(T.transformDataFrame)(t,e)}))).subscribe(g);return function(){r.unsubscribe(),o.unsubscribe()}}),[n,a,l]);var v=Object(r.useMemo)((function(){return o.a.createElement(i.editor,{options:Pe({},i.transformation.defaultOptions,{},y.transformation.options),input:d,onChange:function(e){c(n,{id:y.transformation.id,options:e})}})}),[i.editor,i.transformation.defaultOptions,y.transformation.id,y.transformation.options,d,c]);return o.a.createElement("div",{className:f.editor,"aria-label":s.selectors.components.TransformTab.transformationEditor(i.name)},v,t&&o.a.createElement("div",{className:f.debugWrapper,"aria-label":s.selectors.components.TransformTab.transformationEditorDebugger(i.name)},o.a.createElement("div",{className:f.debug},o.a.createElement("div",{className:f.debugTitle},"Transformation input data"),o.a.createElement("div",{className:f.debugJson},o.a.createElement(u.JSONFormatter,{json:d}))),o.a.createElement("div",{className:f.debugSeparator},o.a.createElement(u.Icon,{name:"arrow-right"})),o.a.createElement("div",{className:f.debug},o.a.createElement("div",{className:f.debugTitle},"Transformation output data"),o.a.createElement("div",{className:f.debugJson},m&&o.a.createElement(u.JSONFormatter,{json:m})))))},De=function(e){var t=e.isLight?e.palette.gray85:e.palette.gray15;return{title:Object(l.css)(we()),name:Object(l.css)(Oe(),e.typography.weight.semibold,e.colors.textBlue),iconRow:Object(l.css)(ve()),icon:Object(l.css)(ye(),e.colors.textWeak,e.spacing.sm,e.colors.text),editor:Object(l.css)(ge()),debugWrapper:Object(l.css)(me()),debugSeparator:Object(l.css)(he(),e.spacing.xs,e.colors.textBlue),debugTitle:Object(l.css)(be(),e.spacing.sm,e.spacing.xxs,e.typography.fontFamily.monospace,e.typography.size.sm,e.colors.text,t),debug:Object(l.css)(de(),e.spacing.sm,e.spacing.sm,e.spacing.sm,e.spacing.sm,t,e.isLight?e.palette.white:e.palette.gray05,e.border.radius.sm),debugJson:Object(l.css)(pe(),e.spacing.xs)}},ke=n("lcF4"),Te=n("s51j");function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Re=function(e){var t=e.onRemove,n=e.index,a=e.id,i=e.data,l=e.configs,c=e.uiConfig,s=e.onChange,f=_e(Object(r.useState)(!1),2),p=f[0],d=f[1];return o.a.createElement(ke.a,{id:a,index:n,title:c.name,draggable:!0,actions:function(e){var r=e.isOpen;return o.a.createElement(u.HorizontalGroup,{align:"center",width:"auto"},o.a.createElement(Te.a,{title:"Debug",disabled:!r,icon:"bug",onClick:function(){d(!p)}}),o.a.createElement(Te.a,{title:"Remove",icon:"trash-alt",onClick:function(){return t(n)}}))}},o.a.createElement(Ce,{debugMode:p,index:n,data:i,configs:l,uiConfig:c,onChange:s}))},ze=function(e){var t=e.data,n=e.onChange,r=e.onRemove,a=e.configs;return o.a.createElement(o.a.Fragment,null,a.map((function(e,i){var l=T.standardTransformersRegistry.getIfExists(e.transformation.id);return l?o.a.createElement(Re,{index:i,id:"".concat(e.id),key:"".concat(e.id),data:t,configs:a,uiConfig:l,onRemove:r,onChange:n}):null})))},Ne=n("mtHS");function Ie(){var e=Le(["\n      background: ",";\n      width: 100%;\n      border: none;\n      padding: ",";\n\n      // hack because these cards use classes from a very different card for some reason\n      .add-data-source-item-text {\n        font-size: ",";\n      }\n\n      &:hover {\n        background: ",";\n        box-shadow: none;\n        border: none;\n      }\n    "]);return Ie=function(){return e},e}function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(){var e=Le(["\n                      margin-bottom: ",";\n                    "]);return Me=function(){return e},e}function Le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Fe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ue(this,Ve(t).call(this,e))).onSearchChange=function(e){n.setState({search:e.target.value})},n.onSearchKeyDown=function(e){if("Enter"===e.key){var t=n.state.search;if(t){var r=t.toLowerCase(),o=T.standardTransformersRegistry.list().filter((function(e){return(e.name+e.description).toLowerCase().indexOf(r)>=0}));o.length>0&&n.onTransformationAdd({value:o[0].id})}}else 27===e.keyCode&&(n.setState({search:"",showPicker:!1}),e.stopPropagation())},n.getTransformationNextId=function(e){var t=0,r=n.state.transformations.filter((function(t){return t.id.startsWith(e)})).map((function(e){return e.id}));return 0!==r.length&&(t=Math.max.apply(Math,Fe(r.map((function(e){return parseInt(e.match(/\d+/)[0],10)}))))+1),"".concat(e,"-").concat(t)},n.onTransformationAdd=function(e){var t=n.state.transformations,r=n.getTransformationNextId(e.value);n.setState({search:"",showPicker:!1}),n.onChange([].concat(Fe(t),[{id:r,transformation:{id:e.value,options:{}}}]))},n.onTransformationChange=function(e,t){var r=n.state.transformations,o=Array.from(r);o[e].transformation=t,n.onChange(o)},n.onTransformationRemove=function(e){var t=n.state.transformations,r=Array.from(t);r.splice(e,1),n.onChange(r)},n.onDragEnd=function(e){var t=n.state.transformations;if(e&&e.destination){var r=e.source.index,o=e.destination.index;if(r!==o){var a=Array.from(t),i=Be(a.splice(r,1),1)[0];a.splice(o,0,i),n.onChange(a)}}},n.renderTransformationEditors=function(){var e=n.state,t=e.data,r=e.transformations;return o.a.createElement(ue.a,{onDragEnd:n.onDragEnd},o.a.createElement(ue.c,{droppableId:"transformations-list",direction:"vertical"},(function(e){return o.a.createElement("div",He({ref:e.innerRef},e.droppableProps),o.a.createElement(ze,{configs:r,data:t,onRemove:n.onTransformationRemove,onChange:n.onTransformationChange}),e.placeholder)})))};var r=e.panel.transformations||[],a=n.buildTransformationIds(r);return n.state={transformations:r.map((function(e,t){return{transformation:e,id:a[t]}})),data:[],search:""},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,e),n=t,(r=[{key:"buildTransformationIds",value:function(e){for(var t={},n=[],r=0;r<e.length;r++){var o=e[r];void 0===t[o.id]?t[o.id]=0:t[o.id]+=1,n.push("".concat(e[r].id,"-").concat(t[e[r].id]))}return n}},{key:"componentDidMount",value:function(){var e=this;this.subscription=this.props.panel.getQueryRunner().getData({withTransforms:!1,withFieldConfig:!1}).subscribe({next:function(t){return e.setState({data:t.series})}})}},{key:"componentWillUnmount",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"onChange",value:function(e){this.setState({transformations:e}),this.props.panel.setTransformations(e.map((function(e){return e.transformation})))}},{key:"renderTransformsPicker",value:function(){var e=this,t=this.state,n=t.transformations,r=t.search,a=null,i=T.standardTransformersRegistry.list();if(r){var c=r.toLowerCase(),f=i.filter((function(e){return(e.name+e.description).toLowerCase().indexOf(c)>=0}));a=o.a.createElement(o.a.Fragment,null,f.length," / ",i.length,"   ",o.a.createElement(u.IconButton,{name:"times",surface:"header",onClick:function(){e.setState({search:""})}})),i=f}var p=!(null==n?void 0:n.length),d=p||this.state.showPicker;return a||!d||p||(a=o.a.createElement(u.IconButton,{name:"times",surface:"header",onClick:function(){e.setState({showPicker:!1})}})),o.a.createElement(o.a.Fragment,null,p&&o.a.createElement(u.Container,{grow:1},o.a.createElement(Ne.a,{storageKey:"dashboard.components.TransformationEditor.featureInfoBox.isDismissed",defaultValue:!1},(function(t,n){return t?null:o.a.createElement(u.FeatureInfoBox,{title:"Transformations",className:Object(l.css)(Me(),e.props.theme.spacing.lg),onDismiss:function(){n(!0)},url:se(T.DocsId.Transformations)},o.a.createElement("p",null,"Transformations allow you to join, calculate, re-order, hide and rename your query results before being visualized. ",o.a.createElement("br",null),"Many transforms are not suitable if you're using the Graph visualization as it currently only supports time series. ",o.a.createElement("br",null),"It can help to switch to Table visualization to understand what a transformation is doing. ",o.a.createElement("br",null)))}))),d?o.a.createElement(u.VerticalGroup,null,o.a.createElement(u.Input,{"aria-label":s.selectors.components.Transforms.searchInput,value:null!=r?r:"",autoFocus:!p,placeholder:"Add transformation",onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown,suffix:a}),i.map((function(t){return o.a.createElement(Xe,{key:t.name,title:t.name,description:t.description,actions:o.a.createElement(u.Button,null,"Select"),ariaLabel:s.selectors.components.TransformTab.newTransform(t.name),onClick:function(){e.onTransformationAdd({value:t.id})}})}))):o.a.createElement(u.Button,{icon:"plus",variant:"secondary",onClick:function(){e.setState({showPicker:!0})}},"Add transformation"))}},{key:"render",value:function(){var e=this.props.panel.alert,t=this.state.transformations.length>0;return!t&&e?o.a.createElement(G,{message:"Transformations can't be used on a panel with existing alerts"}):o.a.createElement(u.CustomScrollbar,{autoHeightMin:"100%"},o.a.createElement(u.Container,{padding:"md"},o.a.createElement("div",{"aria-label":s.selectors.components.TransformTab.content},t&&e?o.a.createElement(u.Alert,{severity:W.AppNotificationSeverity.Error,title:"Transformations can't be used on a panel with alerts"}):null,t&&this.renderTransformationEditors(),this.renderTransformsPicker())))}}])&&We(n.prototype,r),a&&We(n,a),t}(o.a.PureComponent),Xe=function(e){var t=Object(u.useTheme)(),n=Ye(t);return o.a.createElement(ie.a,He({},e,{className:n.card}))},Ye=Object(u.stylesFactory)((function(e){return{card:Object(l.css)(Ie(),e.colors.bg2,e.spacing.sm,e.typography.size.md,e.colors.bg3)}})),Qe=Object(u.withTheme)(Ge),Je=n("xAj+"),Ze=n("9tWQ");function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=et(this,tt(t).call(this,e))).onRunQueries=function(){n.props.panel.refresh()},n.onOpenQueryInspector=function(){Object(b.getLocationSrv)().update({query:{inspect:n.props.panel.id,inspectTab:"query"},partial:!0})},n.onOptionsChange=function(e){var t=n.props.panel,r=(e.dataSource.default?null:e.dataSource.name)!==t.datasource;t.updateQueries(e),r&&setTimeout(n.onRunQueries,10),n.setState({options:e})},n.state={options:n.buildQueryOptions(e)},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,e),n=t,(r=[{key:"buildQueryOptions",value:function(e){var t=e.panel;return{dataSource:{name:t.datasource},queries:t.targets,maxDataPoints:t.maxDataPoints,minInterval:t.interval,timeRange:{from:t.timeFrom,shift:t.timeShift,hide:t.hideTimeOverride}}}},{key:"render",value:function(){var e=this.props.panel,t=this.state.options;return o.a.createElement(Ze.a,{options:t,queryRunner:e.getQueryRunner(),onRunQueries:this.onRunQueries,onOpenQueryInspector:this.onOpenQueryInspector,onOptionsChange:this.onOptionsChange})}}])&&Ke(n.prototype,r),a&&Ke(n,a),t}(r.PureComponent);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(){var e=ct(["\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      min-height: 0;\n      background: ",";\n      border-right: 1px solid ",";\n\n      .toolbar {\n        background: transparent;\n      }\n    "]);return at=function(){return e},e}function it(){var e=ct(["\n      padding-left: ",";\n    "]);return it=function(){return e},e}function lt(){var e=ct(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    "]);return lt=function(){return e},e}function ct(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt=function(e){function t(){var e,n;st(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=ft(this,(e=pt(t)).call.apply(e,[this].concat(o)))).eventSubs=new c.a,n.triggerForceUpdate=function(){n.forceUpdate()},n.getCounter=function(e){var t,r=n.props.panel;switch(e.id){case V.b.Query:return r.targets.length;case V.b.Alert:return r.alert?1:0;case V.b.Transform:return(null!==(t=r.getTransformations())&&void 0!==t?t:[]).length}return null},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.panel.events;this.eventSubs.add(e.subscribe(Je.PanelQueriesChangedEvent,this.triggerForceUpdate)),this.eventSubs.add(e.subscribe(Je.PanelTransformationsChangedEvent,this.triggerForceUpdate))}},{key:"componentWillUnmount",value:function(){this.eventSubs.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.props,n=t.dashboard,r=t.onChangeTab,a=t.tabs,i=t.panel,l=ht(),c=a.find((function(e){return e.active}));return 0===a.length?null:o.a.createElement("div",{className:l.wrapper},o.a.createElement(u.TabsBar,{className:l.tabBar},a.map((function(t){return o.a.createElement(u.Tab,{key:t.id,label:t.text,active:t.active,onChangeTab:function(){return r(t)},icon:t.icon,counter:e.getCounter(t)})}))),o.a.createElement(u.TabContent,{className:l.tabContent},c.id===V.b.Query&&o.a.createElement(rt,{panel:i}),c.id===V.b.Alert&&o.a.createElement(ae,{panel:i,dashboard:n}),c.id===V.b.Transform&&o.a.createElement(Qe,{panel:i})))}}])&&ut(n.prototype,r),a&&ut(n,a),t}(r.PureComponent),ht=Object(u.stylesFactory)((function(){var e=f.a.theme;return{wrapper:Object(l.css)(lt()),tabBar:Object(l.css)(it(),e.spacing.md),tabContent:Object(l.css)(at(),e.colors.panelBg,e.colors.pageHeaderBorder)}})),mt=n("maUf"),gt=n("dRu9"),yt=n("LvDl"),vt=n.n(yt),Ot=n("tEy8"),wt=n("EnUn");function jt(){var e=Tt(["\n          position: relative;\n          padding-right: 0;\n          &:before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 8px;\n            width: 1px;\n            height: 100%;\n            background: ",";\n          }\n        "]);return jt=function(){return e},e}function St(){var e=Tt(["\n        padding: "," "," "," ",";\n      "]);return St=function(){return e},e}function Pt(){var e=Tt(["\n          padding-left: 0;\n          padding-right: 0;\n          padding-top: 0;\n        "]);return Pt=function(){return e},e}function Et(){var e=Tt(["\n        display: flex;\n        cursor: pointer;\n        align-items: baseline;\n        padding: "," "," "," ",";\n        color: ",";\n        font-weight: ",";\n\n        &:hover {\n          color: ",";\n\n          .editor-options-group-toggle {\n            color: ",";\n          }\n        }\n      "]);return Et=function(){return e},e}function xt(){var e=Tt(["\n      flex-grow: 1;\n      overflow: hidden;\n    "]);return xt=function(){return e},e}function Ct(){var e=Tt(["\n      color: ",";\n      margin-right: ",";\n    "]);return Ct=function(){return e},e}function Dt(){var e=Tt(["\n          margin-bottom: ","px;\n        "]);return Dt=function(){return e},e}function kt(){var e=Tt(["\n          border-bottom: 1px solid ",";\n        "]);return kt=function(){return e},e}function Tt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var zt=function(e){var t=e.id,n=e.title,r=e.children,a=e.defaultToClosed,i=e.renderTitle,l=e.className,c=e.nested,s=void 0!==c&&c,u=e.persistMe,f=void 0===u||u,p=e.onToggle;return f?o.a.createElement(Nt,{id:t,defaultToClosed:a,className:l,nested:s,renderTitle:i,persistMe:f,title:n,onToggle:p},r):o.a.createElement(It,{id:t,defaultToClosed:a,className:l,nested:s,renderTitle:i,title:n,onToggle:p},r)},Nt=Object(r.memo)((function(e){var t=Rt(Object(wt.a)(Mt(e.id),{defaultToClosed:e.defaultToClosed}),2),n=t[0],a=t[1],i=Object(r.useCallback)((function(t){a({defaultToClosed:!t}),e.onToggle&&e.onToggle(t)}),[a,e.onToggle]);return o.a.createElement(It,_t({},e,{defaultToClosed:n.defaultToClosed,onToggle:i}))})),It=function(e){var t=e.id,n=e.title,a=e.children,i=e.defaultToClosed,c=e.renderTitle,f=e.className,p=e.nested,d=void 0!==p&&p,b=e.onToggle,h=Rt(Object(r.useState)(!i),2),m=h[0],g=h[1],y=Object(u.useTheme)(),v=At(y,m,d);return Object(r.useEffect)((function(){b&&b(m)}),[m]),o.a.createElement("div",{className:Object(l.cx)(v.box,f,"options-group")},o.a.createElement("div",{className:v.header,onClick:function(){return g(!m)},"aria-label":s.selectors.components.OptionsGroup.toggle(t)},o.a.createElement("div",{className:Object(l.cx)(v.toggle,"editor-options-group-toggle")},o.a.createElement(u.Icon,{name:m?"angle-down":"angle-right"})),o.a.createElement("div",{className:v.title},c?c(m):n)),m&&o.a.createElement("div",{className:v.body},vt.a.isFunction(a)?a(g):a))},At=Object(u.stylesFactory)((function(e,t,n){return{box:Object(l.cx)(!n&&Object(l.css)(kt(),e.colors.pageHeaderBorder),n&&t&&Object(l.css)(Dt(),2*e.spacing.formSpacingBase)),toggle:Object(l.css)(Ct(),e.colors.textWeak,e.spacing.sm),title:Object(l.css)(xt()),header:Object(l.cx)(Object(l.css)(Et(),e.spacing.sm,e.spacing.md,e.spacing.sm,e.spacing.sm,t?e.colors.text:e.colors.formLabel,e.typography.weight.semibold,e.colors.text,e.colors.text),n&&Object(l.css)(Pt())),body:Object(l.cx)(Object(l.css)(St(),e.spacing.sm,e.spacing.md,e.spacing.sm,e.spacing.xl),n&&Object(l.css)(jt(),e.colors.pageHeaderBorder))}})),Mt=function(e){return"".concat(Ot.a,".optionGroup[").concat(e,"]")};function Lt(){var e=Bt(["\n      label: collapsibleOverrideEditor;\n      & + .dynamicConfigValueEditor--nonCollapsible {\n        margin-top: ","px;\n      }\n    "]);return Lt=function(){return e},e}function Ht(){var e=Bt(["\n          padding-left: 0;\n          padding-right: 0;\n        "]);return Ht=function(){return e},e}function Bt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ft=function(e){var t,n=e.property,r=e.context,a=e.registry,i=e.onChange,c=e.onRemove,s=e.isCollapsible,f=e.isSystemOverride,p=Object(u.useTheme)(),d=Wt(p),b=null==a?void 0:a.getIfExists(n.id);if(!b)return null;var h=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var r,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.a.createElement(u.HorizontalGroup,{justify:"space-between"},o.a.createElement(u.Label,{category:null===(r=b.category)||void 0===r?void 0:r.filter((function(e){return void 0!==e})),description:e?b.description:void 0},b.name,!a&&t&&b.getItemsCount&&o.a.createElement(u.Counter,{value:b.getItemsCount(n.value)})),!f&&o.a.createElement("div",null,o.a.createElement(u.IconButton,{name:"times",onClick:c})))}};return t=s?o.a.createElement(zt,{id:b.name,renderTitle:h(!1,!0),className:Object(l.css)(Ht()),nested:!0,defaultToClosed:void 0!==n.value},o.a.createElement(b.override,{value:n.value,onChange:function(e){i(e)},item:b,context:r})):o.a.createElement("div",null,o.a.createElement(u.Field,{label:h()(),description:b.description},o.a.createElement(b.override,{value:n.value,onChange:function(e){i(e)},item:b,context:r}))),o.a.createElement("div",{className:Object(l.cx)(s&&d.collapsibleOverrideEditor,!s&&"dynamicConfigValueEditor--nonCollapsible")},t)},Wt=Object(u.stylesFactory)((function(e){return{collapsibleOverrideEditor:Object(l.css)(Lt(),e.spacing.formSpacingBase)}})),Ut=n("GkHB");function Vt(){var e=Qt(["\n      margin-bottom: 0;\n    "]);return Vt=function(){return e},e}function qt(){var e=Qt(["\n      overflow: hidden;\n      padding-right: ",";\n    "]);return qt=function(){return e},e}function Gt(){var e=Qt(["\n      font-size: ",";\n      color: ",";\n      font-weight: ",";\n    "]);return Gt=function(){return e},e}function Xt(){var e=Qt(["\n      margin-top: ","px;\n    "]);return Xt=function(){return e},e}function Yt(){var e=Qt(["\n      padding: ",";\n    "]);return Yt=function(){return e},e}function Qt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Jt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Zt=[T.FieldConfigProperty.Thresholds,T.FieldConfigProperty.Links,T.FieldConfigProperty.Mappings],$t=function(e){var t=e.name,n=e.data,a=e.override,i=e.onChange,l=e.onRemove,c=e.registry,s=u.fieldMatchersUI.get(a.matcher.id),f=Object(u.useStyles)(Kt),p=a.properties.map((function(e){return c.getIfExists(e.id)})).filter((function(e){return!!e})),d=o.a.createElement(u.Label,null,s.name),b=Object(r.useCallback)((function(e){a.matcher.options=e,i(a)}),[a,i]),h=Object(r.useCallback)((function(e,t){a.properties[e].value=t,i(a)}),[a,i]),m=Object(r.useCallback)((function(e){a.properties.splice(e,1),i(a)}),[a,i]),g=Object(r.useCallback)((function(e){var t={id:e,value:c.get(e).defaultValue};a.properties?a.properties.push(t):a.properties=[t],i(a)}),[a,i]),y=c.list().filter((function(e){return!e.hideFromOverrides})).map((function(e){var t=e.name;return e.category&&e.category.length>1&&(t=[].concat(Jt(e.category.slice(1)),[e.name]).join(" > ")),{label:t,value:e.id,description:e.description}})),v=Object(T.isSystemOverride)(a);return o.a.createElement(zt,{renderTitle:function(e){var n=p.map((function(e){return null==e?void 0:e.name})).join(", "),r=s.optionsToLabel(a.matcher.options);return o.a.createElement("div",null,o.a.createElement(u.HorizontalGroup,{justify:"space-between"},o.a.createElement("div",null,t),o.a.createElement(u.IconButton,{name:"trash-alt",onClick:l})),!e&&o.a.createElement("div",{className:f.overrideDetails},o.a.createElement("div",{className:f.options,title:r},s.name," ",o.a.createElement(u.Icon,{name:"angle-right"})," ",r),o.a.createElement("div",{className:f.options,title:n},"Properties overridden ",o.a.createElement(u.Icon,{name:"angle-right"}),n)))},id:t,key:t},o.a.createElement(u.Field,{label:d},o.a.createElement(s.component,{matcher:s.matcher,data:n,options:a.matcher.options,onChange:function(e){return b(e)}})),o.a.createElement(o.a.Fragment,null,a.properties.map((function(e,t){if(!c.getIfExists(e.id))return null;var r=Array.isArray(e.value)||Zt.includes(e.id);return o.a.createElement(Ft,{key:"".concat(e.id,"/").concat(t),isCollapsible:r,isSystemOverride:v,onChange:function(e){return h(t,e)},onRemove:function(){return m(t)},property:e,registry:c,context:{data:n,getSuggestions:function(e){return Object(Ut.a)(n,e)}}})})),!v&&a.matcher.options&&o.a.createElement("div",{className:f.propertyPickerWrapper},o.a.createElement(u.ValuePicker,{label:"Add override property",variant:"secondary",icon:"plus",options:y,onChange:function(e){g(e.value)},isFullWidth:!1}))))},Kt=function(e){return{matcherUi:Object(l.css)(Yt(),e.spacing.sm),propertyPickerWrapper:Object(l.css)(Xt(),2*e.spacing.formSpacingBase),overrideDetails:Object(l.css)(Gt(),e.typography.size.sm,e.colors.textWeak,e.typography.weight.regular),options:Object(l.css)(qt(),e.spacing.xl),unknownLabel:Object(l.css)(Vt())}};function en(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n            margin: ",";\n          "]);return en=function(){return e},e}function tn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var an=function(e){var t=Object(u.useTheme)(),n=e.config;return o.a.createElement("div",{"aria-label":s.selectors.components.OverridesConfigEditor.content},0===n.overrides.length&&o.a.createElement(u.FeatureInfoBox,{title:"Overrides",url:se(T.DocsId.FieldConfigOverrides),className:Object(l.css)(en(),t.spacing.md)},"Field override rules give you a fine grained control over how your data is displayed."),function(){var t=e.config,n=e.data,r=e.plugin.fieldConfigRegistry;return 0===t.overrides.length?null:o.a.createElement("div",null,t.overrides.map((function(t,a){return o.a.createElement($t,{name:"Override ".concat(a+1),key:"".concat(t.matcher.id,"/").concat(a),data:n,override:t,onChange:function(t){return function(t,n){var r=e.config,o=Object(yt.cloneDeep)(r.overrides);o[t]=n,e.onChange(rn({},r,{overrides:o}))}(a,t)},onRemove:function(){return function(t){var n=e.config,r=Object(yt.cloneDeep)(n.overrides);r.splice(t,1),e.onChange(rn({},n,{overrides:r}))}(a)},registry:r})})))}(),o.a.createElement(u.Container,{padding:"md"},o.a.createElement(u.ValuePicker,{icon:"plus",label:"Add an override for",variant:"secondary",options:u.fieldMatchersUI.list().filter((function(e){return!e.excludeFromPicker})).map((function(e){return{label:e.name,value:e.id,description:e.description}})),onChange:function(t){return function(t){var n=e.onChange,r=e.config;n(rn({},r,{overrides:[].concat(tn(r.overrides),[{matcher:{id:t.value},properties:[]}])}))}(t)},isFullWidth:!1})))},ln=function(e){var t=e.data,n=e.onChange,a=e.config,i=e.plugin,l=Object(r.useCallback)((function(e,t,r){n(Object(d.c)(a,e,t,r))}),[a,n]),c=Object(r.useCallback)((function(e,n){var r,i;if(e.isCustom&&e.showIf&&!e.showIf(a.defaults.custom,t))return null;if(e.hideFromDefaults)return null;var c=a.defaults,f=e.isCustom?c.custom?Object(yt.get)(c.custom,e.path):void 0:Object(yt.get)(c,e.path),p=o.a.createElement(u.Label,{description:e.description,category:null===(r=e.category)||void 0===r?void 0:r.slice(1)},e.name);return 1===n&&(null===(i=e.category)||void 0===i?void 0:i[0])===e.name&&(p=void 0),o.a.createElement(u.Field,{label:p,key:"".concat(e.id,"/").concat(e.isCustom),"aria-label":s.selectors.components.PanelEditor.FieldOptions.propertyEditor(e.isCustom?"Custom":"Default")},o.a.createElement(e.editor,{item:e,value:f,onChange:function(t){return l(e.path,t,e.isCustom)},context:{data:t,getSuggestions:function(e){return Object(Ut.a)(t,e)}}}))}),[a]),f="".concat(i.meta.name," options"),p=Object(yt.groupBy)(i.fieldConfigRegistry.list(),(function(e){return e.category&&e.category[0]?e.category[0]:f}));return o.a.createElement("div",{"aria-label":s.selectors.components.FieldConfigEditor.content},Object.keys(p).map((function(e,t){var n=p[e],r=function(e,t){var n=0,r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var c=i.value,s=c.isCustom?t.defaults.custom?t.defaults.custom[c.path]:void 0:t.defaults[c.path];c.getItemsCount&&c.getItemsCount(s)>0&&(n+=c.getItemsCount(s))}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return 0===n?void 0:n}(n,a);if(function(e){var t=e.filter((function(e){return e.hideFromDefaults})).length;return e.length-t>0}(n))return o.a.createElement(zt,{renderTitle:function(t){return o.a.createElement(o.a.Fragment,null,e," ",!t&&r&&o.a.createElement(u.Counter,{value:r}))},id:"".concat(e,"/").concat(t),key:"".concat(e,"/").concat(t)},n.map((function(e){return c(e,n.length)})))})))};var cn=n("bt/X"),sn=n.n(cn);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn=function(e){var t=e.plugin,n=e.options,a=e.onChange,i=e.data,l=e.eventBus,c=e.replaceVariables,s=Object(r.useMemo)((function(){return sn()(t.optionEditors.list(),(function(e){return e.category&&e.category[0]?e.category[0]:"Display"}))}),[t]),f=function(e,t){var r=Object(yt.set)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),e,t);a(r)},p={data:i||[],replaceVariables:c,options:n,eventBus:l,getSuggestions:function(e){return Object(Ut.d)(t,i)}};return o.a.createElement(o.a.Fragment,null,Object.keys(s).map((function(e,t){var r=s[e].map((function(e,t){var r;if(e.showIf&&!e.showIf(n,i))return null;var a=o.a.createElement(u.Label,{description:e.description,category:null===(r=e.category)||void 0===r?void 0:r.slice(1)},e.name);return o.a.createElement(u.Field,{label:a,key:"".concat(e.id,"/").concat(t)},o.a.createElement(e.editor,{value:Object(yt.get)(n,e.path),onChange:function(t){return f(e.path,t)},item:e,context:p}))})).filter((function(e){return null!==e}));return r.length>0?o.a.createElement(zt,{title:e,defaultToClosed:!0,id:"".concat(e,"/").concat(t),key:"".concat(e,"/").concat(t)},o.a.createElement("div",null,r)):null})))},dn=n("J4KJ"),bn=n("SMGL");function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var On=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gn(this,yn(t).call(this,e))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.loadAngularOptions()}},{key:"componentDidUpdate",value:function(e){this.props.plugin!==e.plugin&&this.cleanUpAngularOptions(),this.loadAngularOptions()}},{key:"componentWillUnmount",value:function(){this.cleanUpAngularOptions()}},{key:"cleanUpAngularOptions",value:function(){this.angularOptions&&(this.angularOptions.destroy(),this.angularOptions=null)}},{key:"loadAngularOptions",value:function(){var e=this,t=this.props,n=t.panel,r=t.angularPanelComponent,o=t.changePanelPlugin;if(this.element&&r&&!this.angularOptions){var a=r.getScope();if(a.$$childHead){var i=a.$$childHead.ctrl;i.initEditMode(),i.onPluginTypeChange=function(e){o(n,e.id)};for(var l,c,s="",u=0;u<i.editorTabs.length;u++){var f=i.editorTabs[u];f.isOpen=(l=f.title,c=0===u,bn.a.getBool("panel-edit-section-".concat(l),c)),s+='\n      <div class="panel-options-group" ng-cloak>        \n        <div class="panel-options-group__header" ng-click="toggleOptionGroup('.concat(u,')" aria-label="').concat(f.title,' section">\n          <div class="panel-options-group__icon">\n            <icon name="ctrl.editorTabs[').concat(u,"].isOpen ? 'angle-down' : 'angle-right'\"></icon>\n          </div>\n          <div class=\"panel-options-group__title\">").concat(f.title,'</div>\n        </div>\n        <div class="panel-options-group__body" ng-if="ctrl.editorTabs[').concat(u,'].isOpen">\n          <panel-editor-tab editor-tab="ctrl.editorTabs[').concat(u,']" ctrl="ctrl"></panel-editor-tab>\n        </div>\n      </div>\n      ')}var p=Object(b.getAngularLoader)(),d={ctrl:i,toggleOptionGroup:function(e){var t=i.editorTabs[e];t.isOpen=!t.isOpen,function(e,t){bn.a.set("panel-edit-section-".concat(e),t?"true":"false")}(t.title,t.isOpen)}};this.angularOptions=p.load(this.element,d,s)}else setTimeout((function(){e.forceUpdate()}))}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{ref:function(t){return e.element=t}})}}])&&mn(n.prototype,r),a&&mn(n,a),t}(r.PureComponent),wn={changePanelPlugin:dn.b},jn=Object(a.connect)((function(e,t){return{angularPanelComponent:e.dashboard.panels[t.panel.id].angularComponent}}),wn)(On),Sn=n("R7n3");function Pn(){var e=zn(["\n      position: absolute;\n      background: ",";\n      bottom: ",";\n      right: ",";\n      z-index: 1;\n    "]);return Pn=function(){return e},e}function En(){var e=zn(["\n      height: 55px;\n    "]);return En=function(){return e},e}function xn(){var e=zn(["\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n      font-size: ",";\n      text-align: center;\n      height: 23px;\n      font-weight: ",";\n      padding: 0 10px;\n      width: 100%;\n    "]);return xn=function(){return e},e}function Cn(){var e=zn(["\n      opacity: 0.2;\n      filter: grayscale(1);\n      cursor: default;\n      pointer-events: none;\n      &:hover {\n        border: 1px solid ",";\n      }\n    "]);return Cn=function(){return e},e}function Dn(){var e=zn(["\n      label: currentVisualizationItem;\n      > div:first-child {\n        ",";\n      }\n    "]);return Dn=function(){return e},e}function kn(){var e=zn(["\n      position: relative;\n      z-index: 1;\n      width: 100%;\n    "]);return kn=function(){return e},e}function Tn(){var e=zn(["\n      flex-shrink: 0;\n      flex-direction: column;\n      text-align: center;\n      cursor: pointer;\n      display: flex;\n      margin-right: 10px;\n      align-items: center;\n      justify-content: center;\n      padding-bottom: 6px;\n      height: 100px;\n      width: 100%;\n      position: relative;\n\n      &:hover {\n        > div:first-child {\n          transform: scale(1.05);\n          border-color: ",";\n        }\n      }\n    "]);return Tn=function(){return e},e}function _n(){var e=zn(["\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: ",";\n      border: 1px solid ",";\n      border-radius: 3px;\n      transform: scale(1);\n      transform-origin: center;\n      transition: all 0.1s ease-in;\n      z-index: 0;\n    "]);return _n=function(){return e},e}function Rn(){var e=zn(["\n      position: relative;\n    "]);return Rn=function(){return e},e}function zn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var In=function(e){var t,n=e.isCurrent,r=e.plugin,a=e.onClick,i=e.disabled,c=Object(u.useTheme)(),f=An(c),p=Object(l.cx)((Nn(t={},f.item,!0),Nn(t,f.disabled,i||r.state===T.PluginState.deprecated),Nn(t,f.current,n),t));return o.a.createElement("div",{className:f.wrapper,"aria-label":s.selectors.components.PluginVisualization.item(r.name)},o.a.createElement("div",{className:p,onClick:i?function(){}:a,title:n?"Click again to close this section":r.name},o.a.createElement("div",{className:f.bg}),o.a.createElement("div",{className:f.itemContent},o.a.createElement("div",{className:f.name,title:r.name},r.name),o.a.createElement("img",{className:f.img,src:r.info.logos.small}))),o.a.createElement("div",{className:Object(l.cx)(f.badge,i&&f.disabled)},o.a.createElement(Ln,{plugin:r})))};In.displayName="VizTypePickerPlugin";var An=Object(u.stylesFactory)((function(e){return{wrapper:Object(l.css)(Rn()),bg:Object(l.css)(_n(),e.colors.bg2,e.colors.border2),item:Object(l.css)(Tn(),e.colors.formFocusOutline),itemContent:Object(l.css)(kn()),current:Object(l.css)(Dn(),u.styleMixins.focusCss(e)),disabled:Object(l.css)(Cn(),e.colors.border2),name:Object(l.css)(xn(),e.typography.size.sm,e.typography.weight.semibold),img:Object(l.css)(En()),badge:Object(l.css)(Pn(),e.colors.bg1,e.spacing.xs,e.spacing.xs)}})),Mn=In,Ln=function(e){var t=e.plugin,n=function(e){switch(e.state){case T.PluginState.deprecated:return{text:"Deprecated",color:"red",tooltip:"".concat(e.name," panel is deprecated")};case T.PluginState.alpha:return{text:"Alpha",color:"blue",tooltip:"".concat(e.name," panel is experimental")};case T.PluginState.beta:return{text:"Beta",color:"blue",tooltip:"".concat(e.name," panel is in beta")};default:return null}}(t);return Object(Sn.b)(t.signature)?o.a.createElement(Sn.a,{status:t.signature}):n?o.a.createElement(u.Badge,{color:n.color,text:n.text,icon:n.icon,tooltip:n.tooltip}):null};function Hn(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      max-width: 100%;\n      display: grid;\n      grid-gap: ",";\n      grid-template-columns: repeat(auto-fit, minmax(116px, 1fr));\n    "]);return Hn=function(){return e},e}function Bn(){var e=f.b.panels;return Object.keys(e).filter((function(t){return!1===e[t].hideFromList})).map((function(t){return e[t]})).sort((function(e,t){return e.sort-t.sort}))}function Fn(e,t,n){if(!t.length)return e.filter((function(e){return e.state!==T.PluginState.deprecated||n.id===e.id}));var r=t.toLowerCase(),o=[],a=[],i=!0,l=!1,c=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var f=s.value;if(f.state!==T.PluginState.deprecated||n.id===f.id){var p=f.name.toLowerCase().indexOf(r);0===p?o.push(f):p>0&&a.push(f)}}}catch(e){l=!0,c=e}finally{try{i||null==u.return||u.return()}finally{if(l)throw c}}return o.concat(a)}Ln.displayName="PanelPluginBadge";var Wn=function(e){var t=e.searchQuery,n=e.onTypeChange,a=e.current,i=Object(u.useTheme)(),l=Un(i),c=Object(r.useMemo)((function(){return Bn()}),[]),s=Object(r.useCallback)((function(){return Fn(c,t,a)}),[t]),f=s(),p=f.length>0,d=f.concat(c.filter((function(e){return-1===f.indexOf(e)})));return o.a.createElement("div",{className:l.grid},p?d.map((function(e,r){return e.state===T.PluginState.deprecated?null:function(e,r){var i=e.id===a.id,l=s().indexOf(e)>-1;return o.a.createElement(Mn,{disabled:!l&&!!t,key:e.id,isCurrent:i,plugin:e,onClick:function(){return n(e)}})}(e)})):o.a.createElement(u.EmptySearchResult,null,"Could not find anything matching your query"))};Wn.displayName="VizTypePicker";var Un=Object(u.stylesFactory)((function(e){return{grid:Object(l.css)(Hn(),e.spacing.md)}})),Vn=n("DR0N");function qn(){var e=Yn(["\n      color: ",";\n      cursor: pointer;\n    "]);return qn=function(){return e},e}function Gn(){var e=Yn(["\n      display: flex;\n      flex-direction: column;\n    "]);return Gn=function(){return e},e}function Xn(){var e=Yn(["\n      color: ",";\n    "]);return Xn=function(){return e},e}function Yn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Jn=o.a.forwardRef((function(e,t){var n=e.panel,a=e.plugin,i=e.changePanelPlugin,l=e.onToggleOptionGroup,c=Qn(Object(r.useState)(""),2),s=c[0],f=c[1],p=Object(u.useTheme)(),d=Zn(p);if(!a)return null;var b=function(e){e.id===a.meta.id?l(!1):i(n,e.id)},h=Object(r.useCallback)((function(e){if("Enter"===e.key){var t=e.currentTarget.value,n=Fn(Bn(),t,a.meta);n&&n.length&&b(n[0])}}),[b]),m=""!==s?o.a.createElement("span",{className:d.searchClear,onClick:function(){return f("")}},o.a.createElement(u.Icon,{name:"times"}),"Clear filter"):null;return o.a.createElement("div",{className:d.wrapper},o.a.createElement(Vn.a,null,o.a.createElement(u.Input,{value:s,onChange:function(e){return f(e.currentTarget.value)},onKeyPress:h,prefix:o.a.createElement(u.Icon,{name:"filter",className:d.icon}),suffix:m,placeholder:"Filter visualizations",ref:t})),o.a.createElement(Wn,{current:a.meta,onTypeChange:b,searchQuery:s,onClose:function(){}}))}));Jn.displayName="VisualizationTabUnconnected";var Zn=Object(u.stylesFactory)((function(e){return{icon:Object(l.css)(Xn(),e.palette.gray33),wrapper:Object(l.css)(Gn()),searchClear:Object(l.css)(qn(),e.palette.gray60)}})),$n={changePanelPlugin:dn.b},Kn=Object(a.connect)((function(e,t){return{plugin:e.plugins.panels[t.panel.type]}}),$n,void 0,{forwardRef:!0})(Jn),er=n("gR9h");function tr(){var e=rr(["\n      border-radius: 50%;\n      box-sizing: content-box;\n      width: 22px;\n      height: 22px;\n      padding-left: ",";\n      padding-right: ",";\n    "]);return tr=function(){return e},e}function nr(){var e=rr(["\n      color: ",";\n      font-size: ",";\n    "]);return nr=function(){return e},e}function rr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var or=function(e){var t,n=e.panel,r=e.formatDate,a=Object(u.useStyles)(ar);return o.a.createElement(zt,{title:"Reusable panel information",id:"Shared Panel Info",key:"Shared Panel Info"},n.libraryPanel.uid&&o.a.createElement("p",{className:a.libraryPanelInfo},"Used on ".concat(n.libraryPanel.meta.connectedDashboards," "),1===n.libraryPanel.meta.connectedDashboards?"dashboard":"dashboards",o.a.createElement("br",null),"Last edited on ",null!==(t=null==r?void 0:r(n.libraryPanel.meta.updated,"L"))&&void 0!==t?t:n.libraryPanel.meta.updated," by",n.libraryPanel.meta.updatedBy.avatarUrl&&o.a.createElement("img",{width:"22",height:"22",className:a.userAvatar,src:n.libraryPanel.meta.updatedBy.avatarUrl,alt:"Avatar for ".concat(n.libraryPanel.meta.updatedBy.name)}),n.libraryPanel.meta.updatedBy.name))},ar=Object(u.stylesFactory)((function(e){return{libraryPanelInfo:Object(l.css)(nr(),e.colors.textSemiWeak,e.typography.size.sm),userAvatar:Object(l.css)(tr(),e.spacing.sm,e.spacing.sm)}})),ir=n("K47g"),lr=n("JZM8"),cr=n.n(lr),sr=n("fL47"),ur=n("oWI4");function fr(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    display: flex;\n    gap: 10px;\n  "]);return fr=function(){return e},e}function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var br=function(e){var t=e.isOpen,n=void 0!==t&&t,a=e.panel,i=e.initialFolderId,l=dr(e,["isOpen","panel","initialFolderId"]),c=Object(u.useStyles)(hr),s=pr(Object(r.useState)(i),2),f=s[0],p=s[1],d=pr(Object(r.useState)(a.title),2),b=d[0],h=d[1],m=Object(ur.a)().saveLibraryPanel;return o.a.createElement(u.Modal,{title:"Add this panel to the panel library",isOpen:n,onDismiss:l.onDismiss},o.a.createElement(u.Field,{label:"Library panel name"},o.a.createElement(u.Input,{name:"name",value:b,onChange:function(e){return h(e.currentTarget.value)}})),o.a.createElement(u.Field,{label:"Save in folder",description:"Library panel permissions are derived from the folder permissions"},o.a.createElement(sr.a,{onChange:function(e){var t=e.id;return p(t)},initialFolderId:i})),o.a.createElement("div",{className:c.buttons},o.a.createElement(u.Button,{onClick:function(){a.title=b,m(a,f).then((function(){return l.onDismiss()}))}},"Add panel to the panel library"),o.a.createElement(u.Button,{variant:"secondary",onClick:l.onDismiss},"Cancel")))},hr=function(){return{buttons:Object(l.css)(fr())}},mr=n("ZAQQ"),gr=n("K0rs");function yr(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      display: flex;\n      gap: 10px;\n    "]);return yr=function(){return e},e}function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jr=function(e){var t,n=e.panel,a=e.dashboard,i=Object(u.useStyles)(Sr),l=wr(Object(r.useState)(!1),2),c=l[0],s=l[1],f=function(e){n.restoreModel(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){Or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.model,{},cr()(n,"gridPos","id"),{libraryPanel:Object(gr.d)(e)})),n.hasChanged=!1,n.refresh(),n.events.publish(Je.PanelQueriesChangedEvent)},p=function(e){e.preventDefault(),e.stopPropagation(),s(!0)};return o.a.createElement(zt,{renderTitle:function(e){return e&&!n.libraryPanel?o.a.createElement("div",{className:i.panelLibraryTitle},o.a.createElement("span",null,"Panel library"),o.a.createElement(u.Button,{size:"sm",onClick:p},"Add this panel to the panel library")):"Panel library"},id:"panel-library",key:"panel-library",defaultToClosed:!0},o.a.createElement(mr.a,{formatDate:function(e){return a.formatDate(e,"L")},currentPanelId:null===(t=n.libraryPanel)||void 0===t?void 0:t.uid,showSecondaryActions:!0},(function(e){return o.a.createElement(u.Button,{variant:"secondary",onClick:function(){return f(e)}},"Use instead of current panel")})),c&&o.a.createElement(br,{panel:n,onDismiss:function(){return s(!1)},initialFolderId:a.meta.folderId,isOpen:c}))},Sr=Object(u.stylesFactory)((function(e){return{panelLibraryTitle:Object(l.css)(yr())}})),Pr=function(e){var t=e.panel,n=e.plugin,a=e.data,i=e.dashboard,l=e.onPanelConfigChange,c=e.onPanelOptionsChanged,s=Object(r.useRef)(null),p=Object(r.useMemo)((function(){return Object(Ut.c)()}),[]),d=Object(r.useCallback)((function(e){return l("repeat",e)}),[l]),b=[],h=t&&t.links?t.links.length:0,m=[2,3,4,6,8,12].map((function(e){return{label:e.toString(),value:e}}));return f.b.featureToggles.panelLibrary&&Object(ir.b)(t)&&b.push(o.a.createElement(or,{panel:t,formatDate:function(e,t){return i.formatDate(e,t)},key:"Library Panel Information"})),b.push(o.a.createElement(zt,{title:"Settings",id:"Panel settings",key:"Panel settings"},o.a.createElement(u.Field,{label:"Panel title"},o.a.createElement(u.Input,{defaultValue:t.title,onBlur:function(e){return l("title",e.currentTarget.value)}})),o.a.createElement(u.Field,{label:"Description",description:"Panel description supports markdown and links."},o.a.createElement(u.TextArea,{defaultValue:t.description,onBlur:function(e){return l("description",e.currentTarget.value)}})),o.a.createElement(u.Field,{label:"Transparent",description:"Display panel without a background."},o.a.createElement(u.Switch,{value:t.transparent,onChange:function(e){return l("transparent",e.currentTarget.checked)}})))),b.push(o.a.createElement(zt,{title:"Visualization",id:"Panel type",key:"Panel type",defaultToClosed:!0,onToggle:function(e){e&&s.current&&s.current.focus()}},(function(e){return o.a.createElement(Kn,{panel:t,ref:s,onToggleOptionGroup:e})}))),n.editor&&t&&!n.optionEditors&&b.push(o.a.createElement(zt,{title:"Options",id:"legacy react editor",key:"legacy react editor"},o.a.createElement(n.editor,{data:a,options:t.getOptions(),onOptionsChange:c}))),n.optionEditors&&t&&b.push(o.a.createElement(pn,{key:"panel options",options:t.getOptions(),onChange:c,replaceVariables:t.replaceVariables,plugin:n,data:null==a?void 0:a.series,eventBus:i.events})),n.angularPanelCtrl&&b.push(o.a.createElement(jn,{panel:t,dashboard:i,plugin:n,key:"angular panel options"})),b.push(o.a.createElement(zt,{renderTitle:function(e){return o.a.createElement(o.a.Fragment,null,"Links ",!e&&h>0&&o.a.createElement(u.Counter,{value:h}))},id:"panel links",key:"panel links",defaultToClosed:!0},o.a.createElement(u.DataLinksInlineEditor,{links:t.links,onChange:function(e){return l("links",e)},suggestions:p,data:[]}))),b.push(o.a.createElement(zt,{title:"Repeat options",id:"panel repeats",key:"panel repeats",defaultToClosed:!0},o.a.createElement(u.Field,{label:"Repeat by variable",description:"Repeat this panel for each value in the selected variable. This is not visible while in edit mode. You need to go back to dashboard and then update the variable or reload the dashboard."},o.a.createElement(er.a,{repeat:t.repeat,onChange:d})),t.repeat&&o.a.createElement(u.Field,{label:"Repeat direction"},o.a.createElement(u.RadioButtonGroup,{options:[{label:"Horizontal",value:"h"},{label:"Vertical",value:"v"}],value:t.repeatDirection||"h",onChange:function(e){return l("repeatDirection",e)}})),t.repeat&&"h"===t.repeatDirection&&o.a.createElement(u.Field,{label:"Max per row"},o.a.createElement(u.Select,{options:m,value:t.maxPerRow,onChange:function(e){return l("maxPerRow",e.value)}})))),f.b.featureToggles.panelLibrary&&b.push(o.a.createElement(jr,{panel:t,dashboard:i,key:"Panel Library"})),o.a.createElement(o.a.Fragment,null,b)},Er=n("UlFs");function xr(){var e=Ir(["\n      label: legacy-options;\n      .panel-options-grid {\n        display: flex;\n        flex-direction: column;\n      }\n      .panel-options-group {\n        margin-bottom: 0;\n      }\n      .panel-options-group__body {\n        padding: "," 0;\n      }\n\n      .section {\n        display: block;\n        margin: "," 0;\n\n        &:first-child {\n          margin-top: 0;\n        }\n      }\n    "]);return xr=function(){return e},e}function Cr(){var e=Ir([""]);return Cr=function(){return e},e}function Dr(){var e=Ir(["\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n      min-height: 0;\n      background: ",";\n      border-left: 1px solid ",";\n    "]);return Dr=function(){return e},e}function kr(){var e=Ir(["\n      cursor: pointer;\n    "]);return kr=function(){return e},e}function Tr(){var e=Ir(["\n      color: ",";\n      flex-grow: 1;\n    "]);return Tr=function(){return e},e}function _r(){var e=Ir(["\n      display: flex;\n      flex-grow: 1;\n      flex-direction: row-reverse;\n    "]);return _r=function(){return e},e}function Rr(){var e=Ir(["\n      padding-right: ",";\n    "]);return Rr=function(){return e},e}function zr(){var e=Ir(["\n      height: 100%;\n      width: 100%;\n    "]);return zr=function(){return e},e}function Nr(){var e=Ir(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      padding-top: ",";\n    "]);return Nr=function(){return e},e}function Ir(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(n),!0).forEach((function(t){Lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Br=function(e){var t=e.plugin,n=e.panel,a=e.width,i=e.onFieldConfigsChange,l=e.onPanelOptionsChanged,c=e.onPanelConfigChange,f=e.onClose,p=e.dashboard,d=Object(u.useTheme)(),b=Ur(d),h=Hr(Object(r.useState)("options"),2),m=h[0],g=h[1],y=Hr(Object(r.useState)(!1),2),v=y[0],O=y[1],w=Object(Er.a)(n,{withTransforms:!0,withFieldConfig:!1}),j=w.data,S=w.hasSeries,P=Object(r.useCallback)((function(e){var t=n.getFieldConfig();return t&&S?o.a.createElement(ln,{config:t,plugin:e,onChange:i,data:j.series}):null}),[j,t,n,i]),E=Object(r.useCallback)((function(e){var t=n.getFieldConfig();return t&&S?o.a.createElement(an,{config:t,plugin:e,onChange:i,data:j.series}):null}),[j,t,n,i]),x="options"===m||t.meta.skipDataQuery;return o.a.createElement("div",{className:b.panelOptionsPane,"aria-label":s.selectors.components.PanelEditor.OptionsPane.content},t&&o.a.createElement("div",{className:b.wrapper},o.a.createElement(u.TabsBar,{className:b.tabsBar},o.a.createElement(Fr,{width:a,plugin:t,isSearching:v,styles:b,activeTab:m,onClose:f,setSearchMode:O,setActiveTab:g,panel:n})),o.a.createElement(u.TabContent,{className:b.tabContent},o.a.createElement(u.CustomScrollbar,{autoHeightMin:"100%"},x?o.a.createElement(Pr,{panel:n,plugin:t,dashboard:p,data:j,onPanelConfigChange:c,onPanelOptionsChanged:l}):o.a.createElement(o.a.Fragment,null,"defaults"===m&&P(t),"overrides"===m&&E(t))))))},Fr=function(e){var t=e.width,n=e.plugin,r=e.isSearching,a=e.activeTab,i=e.onClose,l=e.setSearchMode,c=e.setActiveTab,f=e.styles,p=e.panel,d=0===p.getFieldConfig().overrides.length?void 0:p.getFieldConfig().overrides.length;if(r){var b={transition:"width 50ms ease-in-out",width:"50%",display:"flex"},h={entered:{width:"100%"}};return o.a.createElement(gt.a,{in:!0,timeout:0,appear:!0},(function(e){return o.a.createElement("div",{className:f.searchWrapper},o.a.createElement("div",{style:Mr({},b,{},h[e])},o.a.createElement(u.Input,{className:f.searchInput,type:"text",prefix:o.a.createElement(u.Icon,{name:"search"}),ref:function(e){return e&&e.focus()},placeholder:"Search all options",suffix:o.a.createElement(u.Icon,{name:"times",onClick:function(){return l(!1)},className:f.searchRemoveIcon})})))}))}var m=Wr,g=m.find((function(e){return e.value===a}));return n.fieldConfigRegistry.isEmpty()&&(m=[g=Wr[0]]),o.a.createElement(o.a.Fragment,null,t<352?o.a.createElement("div",{className:"flex-grow-1","aria-label":s.selectors.components.PanelEditor.OptionsPane.select},o.a.createElement(u.Select,{options:m,value:g,onChange:function(e){c(e.value)}})):o.a.createElement(o.a.Fragment,null,m.map((function(e){return o.a.createElement(u.Tab,{key:e.value,label:e.label,counter:"overrides"===e.value?d:void 0,active:g.value===e.value,onChangeTab:function(){return c(e.value)},title:e.tooltip,"aria-label":s.selectors.components.PanelEditor.OptionsPane.tab(e.label)})})),o.a.createElement("div",{className:"flex-grow-1"})),o.a.createElement("div",{className:f.tabsButton},o.a.createElement(u.ToolbarButton,{icon:"angle-right",tooltip:"Close options pane",onClick:i})))},Wr=[{label:"Panel",value:"options",tooltip:"Configure panel display options"},{label:"Field",value:"defaults",tooltip:"Configure field options"},{label:"Overrides",value:"overrides",tooltip:"Configure field option overrides"}],Ur=Object(u.stylesFactory)((function(e){return{wrapper:Object(l.css)(Nr(),e.spacing.md),panelOptionsPane:Object(l.css)(zr()),tabsBar:Object(l.css)(Rr(),e.spacing.sm),searchWrapper:Object(l.css)(_r()),searchInput:Object(l.css)(Tr(),e.colors.textWeak),searchRemoveIcon:Object(l.css)(kr()),tabContent:Object(l.css)(Dr(),e.colors.bodyBg,e.colors.pageHeaderBorder),tabsButton:Object(l.css)(Cr()),legacyOptions:Object(l.css)(xr(),e.spacing.md,e.spacing.md)}})),Vr=n("VBuW"),qr=n("/fyT"),Gr=n("KODV"),Xr=n("Yuww"),Yr=n("waAV"),Qr=n("Gqk0"),Jr=n("13X4"),Zr=n("Wwog"),$r=Object(Zr.a)((function(e,t){var n,r=[];if(!t)return r;var o=V.b.Visualize;return t.meta.skipDataQuery?[]:(t.meta.skipDataQuery||(o=V.b.Query,r.push({id:V.b.Query,text:"Query",icon:"database",active:!1}),r.push({id:V.b.Transform,text:"Transform",icon:"process",active:!1})),Object(f.c)().alertingEnabled&&"graph"===t.meta.id&&r.push({id:V.b.Alert,text:"Alert",icon:"bell",active:!1}),(null!==(n=r.find((function(t){return t.id===(e.query.tab||o)})))&&void 0!==n?n:r[0]).active=!0,r)}));var Kr=n("p1x6"),eo=function(e){var t=e.isOpen,n=e.onConfirm,r=e.onDismiss;return o.a.createElement(u.ConfirmModal,{title:"Do you really want to unlink this panel?",icon:"question-circle",body:"If you unlink this panel, you will be able to edit it without affecting any other dashboards. However, once you make a change you will not be able to revert to its original reusable panel.",confirmText:"Yes, unlink",onConfirm:function(){n(),r()},onDismiss:r,isOpen:t})},to=n("E5+Z");function no(e){var t;return Boolean(null===(t=e.libraryPanel)||void 0===t?void 0:t.uid)}var ro=n("V8VS");function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(){var e=mo(["\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    "]);return ao=function(){return e},e}function io(){var e=mo(["\n      padding-left: ",";\n    "]);return io=function(){return e},e}function lo(){var e=mo(["\n      display: flex;\n      padding: "," 0 "," ",";\n      justify-content: space-between;\n      flex-wrap: wrap;\n    "]);return lo=function(){return e},e}function co(){var e=mo(["\n      height: 100%;\n      width: 100%;\n    "]);return co=function(){return e},e}function so(){var e=mo(["\n      flex: 1 1 0;\n      min-height: 0;\n      width: 100%;\n      padding-left: ",";\n    "]);return so=function(){return e},e}function uo(){var e=mo(["\n      label: variablesWrapper;\n      display: flex;\n      flex-grow: 1;\n      flex-wrap: wrap;\n    "]);return uo=function(){return e},e}function fo(){var e=mo(["\n      padding-bottom: ",";\n    "]);return fo=function(){return e},e}function po(){var e=mo(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n      padding-right: ",";\n    "]);return po=function(){return e},e}function bo(){var e=mo(["\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 100%;\n      position: relative;\n    "]);return bo=function(){return e},e}function ho(){var e=mo(["\n      width: 100%;\n      height: 100%;\n      position: fixed;\n      z-index: ",";\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: ",";\n      display: flex;\n      flex-direction: column;\n    "]);return ho=function(){return e},e}function mo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function wo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Oo(a,r,o,i,l,"next",e)}function l(e){Oo(a,r,o,i,l,"throw",e)}i(void 0)}))}}function jo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t){return!t||"object"!==oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return Do}));var Co={updateLocation:Jr.b,initPanelEditor:Yr.b,exitPanelEditor:Yr.a,updateSourcePanel:Yr.e,panelEditorCleanUp:Yr.c,setDiscardChanges:Ot.d,updatePanelEditorUIState:Yr.d,updateTimeZoneForSession:Qr.b,notifyApp:q.b},Do=Object(a.connect)((function(e){var t=e.panelEditor.getPanel(),n=function(e,t){var n;return t&&null!==(n=e.panels[t])&&void 0!==n?n:{}}(e.dashboard,t.id).plugin;return{location:e.location,plugin:n,panel:t,initDone:e.panelEditor.initDone,tabs:$r(e.location,n),uiState:e.panelEditor.ui,variables:Object(Kr.g)(e)}}),Co)(function(e){function t(){var e,n;jo(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Po(this,(e=Eo(t)).call.apply(e,[this].concat(a)))).triggerForceUpdate=function(){n.forceUpdate()},n.onDiscard=function(){n.props.setDiscardChanges(!0),n.props.updateLocation({query:{editPanel:null,tab:null},partial:!0})},n.onOpenDashboardSettings=function(){n.props.updateLocation({query:{editview:"settings"},partial:!0})},n.onSaveDashboard=function(){p.a.emit(W.CoreEvents.showModalReact,{component:Gr.a,props:{dashboard:n.props.dashboard}})},n.onSaveLibraryPanel=wo(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(no(n.props.panel)){e.next=2;break}return e.abrupt("return");case 2:if(0!==n.props.panel.libraryPanel.meta.connectedDashboards){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(ro.c)(n.props.panel.libraryPanel.uid);case 6:if(1!==(t=e.sent).length||-1===t.indexOf(n.props.dashboard.id)){e.next=19;break}return e.prev=8,e.next=11,Object(gr.c)(n.props.panel,n.props.dashboard.meta.folderId);case 11:n.props.updateSourcePanel(n.props.panel),n.props.notifyApp(Object(gr.b)("Library panel saved")),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),n.props.notifyApp(Object(gr.a)('Error saving library panel: "'.concat(e.t0.statusText,'"')));case 18:return e.abrupt("return");case 19:p.a.emit(W.CoreEvents.showModalReact,{component:to.a,props:{panel:n.props.panel,folderId:n.props.dashboard.meta.folderId,isOpen:!0,onConfirm:function(){n.props.updateSourcePanel(n.props.panel)},onDiscard:n.onDiscard}});case 20:case"end":return e.stop()}}),e,null,[[8,15]])}))),n.onChangeTab=function(e){n.props.updateLocation({query:{tab:e.id},partial:!0})},n.onFieldConfigChange=function(e){n.props.panel.updateFieldConfig(yo({},e))},n.onPanelOptionsChanged=function(e){n.props.panel.updateOptions(e)},n.onPanelConfigChanged=function(e,t){n.props.panel.setProperty(e,t),n.props.panel.render(),n.forceUpdate()},n.onDisplayModeChange=function(e){(0,n.props.updatePanelEditorUIState)({mode:e})},n.onTogglePanelOptions=function(){var e=n.props,t=e.uiState;(0,e.updatePanelEditorUIState)({isPanelOptionsVisible:!t.isPanelOptionsVisible})},n.renderPanel=function(e){var t=n.props,r=t.dashboard,a=t.panel,c=t.tabs,s=t.uiState;return o.a.createElement("div",{className:Object(l.cx)(e.mainPaneWrapper,0===c.length&&e.mainPaneWrapperNoTabs),key:"panel"},n.renderPanelToolbar(e),o.a.createElement("div",{className:e.panelWrapper},o.a.createElement(i.a,null,(function(t){var n=t.width,i=t.height;return n<3||i<3?null:o.a.createElement("div",{className:e.centeringContainer,style:{width:n,height:i}},o.a.createElement("div",{style:Object(d.a)(s.mode,n,i,a)},o.a.createElement(Xr.a,{dashboard:r,panel:a,isEditing:!0,isViewing:!1,isInView:!0})))}))))},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.props.initPanelEditor(this.props.sourcePanel,this.props.dashboard)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.panel;e.initDone&&!this.eventSubs&&(this.eventSubs=new c.a,this.eventSubs.add(t.events.subscribe(Je.PanelOptionsChangedEvent,this.triggerForceUpdate)))}},{key:"componentWillUnmount",value:function(){var e;this.props.panelEditorCleanUp(),null===(e=this.eventSubs)||void 0===e||e.unsubscribe()}},{key:"renderPanelAndEditor",value:function(e){var t=this.props,n=t.panel,r=t.dashboard,a=t.tabs;return a.length>0?[this.renderPanel(e),o.a.createElement("div",{className:e.tabsWrapper,"aria-label":s.selectors.components.PanelEditor.DataPane.content,key:"panel-editor-tabs"},o.a.createElement(bt,{panel:n,dashboard:r,tabs:a,onChangeTab:this.onChangeTab}))]:this.renderPanel(e)}},{key:"renderTemplateVariables",value:function(e){var t=this.props.variables;return t.length?o.a.createElement("div",{className:e.variablesWrapper},o.a.createElement(Vr.a,{variables:t})):null}},{key:"renderPanelToolbar",value:function(e){var t=this.props,n=t.dashboard,r=t.location,a=t.uiState,i=t.variables,l=t.updateTimeZoneForSession;return o.a.createElement("div",{className:e.panelToolbar},o.a.createElement(u.HorizontalGroup,{justify:i.length>0?"space-between":"flex-end",align:"flex-start"},this.renderTemplateVariables(e),o.a.createElement(u.HorizontalGroup,null,o.a.createElement(u.RadioButtonGroup,{value:a.mode,options:V.c,onChange:this.onDisplayModeChange}),o.a.createElement(mt.a,{dashboard:n,location:r,onChangeTimeZone:l}),!a.isPanelOptionsVisible&&o.a.createElement(u.ToolbarButton,{onClick:this.onTogglePanelOptions,tooltip:"Open options pane",icon:"angle-left"},"Show options"))))}},{key:"renderEditorActions",value:function(){var e=this,t=[o.a.createElement(u.ToolbarButton,{icon:"cog",onClick:this.onOpenDashboardSettings,title:"Open dashboard settings",key:"settings"}),o.a.createElement(u.ToolbarButton,{onClick:this.onDiscard,title:"Undo all changes",key:"discard"},"Discard"),this.props.panel.libraryPanel?o.a.createElement(u.ToolbarButton,{onClick:this.onSaveLibraryPanel,variant:"primary",title:"Apply changes and save library panel",key:"save-panel"},"Save library panel"):o.a.createElement(u.ToolbarButton,{onClick:this.onSaveDashboard,title:"Apply changes and save dashboard",key:"save"},"Save"),o.a.createElement(u.ToolbarButton,{onClick:this.props.exitPanelEditor,variant:"primary",title:"Apply changes and go back to dashboard",key:"apply"},"Apply")];return this.props.panel.libraryPanel&&(t.splice(1,0,o.a.createElement(u.ModalsController,{key:"unlink-controller"},(function(t){var n=t.showModal,r=t.hideModal;return o.a.createElement(u.ToolbarButton,{onClick:function(){n(eo,{onConfirm:function(){delete e.props.panel.libraryPanel,e.props.panel.render(),e.forceUpdate()},onDismiss:r,isOpen:!0})},title:"Disconnects this panel from the reusable panel so that you can edit it regularly.",key:"unlink"},"Unlink")}))),t.pop()),t}},{key:"renderOptionsPane",value:function(){var e=this.props,t=e.plugin,n=e.dashboard,r=e.panel,a=e.uiState,i=a.rightPaneSize<=1?a.rightPaneSize*window.innerWidth:a.rightPaneSize;return t?o.a.createElement(Br,{plugin:t,dashboard:n,panel:r,width:i,onClose:this.onTogglePanelOptions,onFieldConfigsChange:this.onFieldConfigChange,onPanelOptionsChanged:this.onPanelOptionsChanged,onPanelConfigChange:this.onPanelConfigChanged}):o.a.createElement("div",null)}},{key:"render",value:function(){var e=this.props,t=e.dashboard,n=e.initDone,r=e.updatePanelEditorUIState,a=e.uiState,i=ko(f.b.theme,this.props);return n?o.a.createElement("div",{className:i.wrapper,"aria-label":s.selectors.components.PanelEditor.General.content},o.a.createElement(u.PageToolbar,{title:"".concat(t.title," / Edit Panel"),onGoBack:this.props.exitPanelEditor},this.renderEditorActions()),o.a.createElement("div",{className:i.verticalSplitPanesWrapper},o.a.createElement(qr.a,{leftPaneComponents:this.renderPanelAndEditor(i),rightPaneComponents:this.renderOptionsPane(),uiState:a,updateUiState:r,rightPaneVisible:a.isPanelOptionsVisible}))):null}}])&&So(n.prototype,r),a&&So(n,a),t}(r.PureComponent)),ko=Object(u.stylesFactory)((function(e,t){var n=t.uiState,r=e.spacing.md;return{wrapper:Object(l.css)(ho(),e.zIndex.sidemenu,e.colors.dashboardBg),verticalSplitPanesWrapper:Object(l.css)(bo()),mainPaneWrapper:Object(l.css)(po(),n.isPanelOptionsVisible?0:r),mainPaneWrapperNoTabs:Object(l.css)(fo(),r),variablesWrapper:Object(l.css)(uo()),panelWrapper:Object(l.css)(so(),r),tabsWrapper:Object(l.css)(co()),panelToolbar:Object(l.css)(lo(),r,r,r),toolbarLeft:Object(l.css)(io(),e.spacing.sm),centeringContainer:Object(l.css)(ao())}}))},lIMf:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"DashboardPage",(function(){return R})),n.d(t,"mapStateToProps",(function(){return z}));var r=n("+2Rf"),o=n.n(r),a=n("q1tI"),i=n.n(a),l=n("0cfB"),c=n("/MKj"),s=n("UvM7"),u=n("v4Fa"),f=n("ibPz"),p=n("nU/Z"),d=n("hfOi"),b=n("2t1j"),h=n("lEZL"),m=n("kDLi"),g=n("8M//"),y=n("3SGO"),v=n("GQ3c"),O=n("kt0J"),w=n("3ISj"),j=n("J4KJ"),S=n("50r9"),P=n("HH2e");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){var e,n;C(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=k(this,(e=T(t)).call.apply(e,[this].concat(o)))).state={editPanel:null,viewPanel:null,showLoadingState:!1,scrollTop:0,rememberScrollTop:0},n.setScrollTop=function(e){var t=e.target;n.setState({scrollTop:t.scrollTop,updateScrollTop:void 0})},n.onAddPanel=function(){var e=n.props.dashboard;e&&(e.panels.length>0&&"add-panel"===e.panels[0].type||(e.addPanel({type:"add-panel",gridPos:{x:0,y:0,w:12,h:8},title:"Panel Title"}),n.setState({updateScrollTop:0})))},n.cancelVariables=function(){n.props.updateLocation({path:"/"})},n}var n,r,a,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:(l=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.initDashboard({$injector:this.props.$injector,$scope:this.props.$scope,urlSlug:this.props.urlSlug,urlUid:this.props.urlUid,urlType:this.props.urlType,urlFolderId:this.props.urlFolderId,routeInfo:this.props.routeInfo,fixUrl:!0});case 1:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=l.apply(e,t);function a(e){x(o,n,r,a,i,"next",e)}function i(e){x(o,n,r,a,i,"throw",e)}a(void 0)}))},function(){return c.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.cleanUpDashboardAndVariables(),this.setPanelFullscreenClass(!1)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.dashboard,o=n.urlEditPanelId,a=n.urlViewPanelId,i=n.urlUid,l=this.state,c=l.editPanel,u=l.viewPanel;r&&(e.dashboard||(document.title=r.title+" - "+f.a.AppTitle),e.urlUid===i&&(!c&&o&&(P.a.setEditingState(!0),this.getPanelByIdFromUrlParam(o,(function(e){r.canEditPanel(e)?t.setState({editPanel:e}):t.props.notifyApp(Object(s.a)("Permission to edit panel denied"))}))),c&&!o&&(P.a.setEditingState(!1),this.setState({editPanel:null})),!u&&a&&this.getPanelByIdFromUrlParam(a,(function(e){t.setPanelFullscreenClass(!0),r.initViewPanel(e),t.setState({viewPanel:e,rememberScrollTop:t.state.scrollTop,updateScrollTop:0})})),u&&!a&&(this.setPanelFullscreenClass(!1),r.exitViewPanel(u),this.setState({viewPanel:null,updateScrollTop:this.state.rememberScrollTop},this.triggerPanelsRendering.bind(this)))))}},{key:"getPanelByIdFromUrlParam",value:function(e,t){var n=this.props.dashboard,r=parseInt(e,10);n.expandParentRowFor(r);var o=n.getPanelById(r);if(!o)return this.props.notifyApp(Object(s.a)("Panel with id ".concat(e," not found"))),void this.props.updateLocation({query:{editPanel:null,viewPanel:null},partial:!0});t(o)}},{key:"triggerPanelsRendering",value:function(){try{this.props.dashboard.render()}catch(e){console.error(e),this.props.notifyApp(Object(s.a)("Panel rendering error",e))}}},{key:"setPanelFullscreenClass",value:function(e){o()("body").toggleClass("panel-in-fullscreen",e)}},{key:"renderSlowInitState",value:function(){return i.a.createElement("div",{className:"dashboard-loading"},i.a.createElement("div",{className:"dashboard-loading__text"},i.a.createElement(m.VerticalGroup,{spacing:"md"},i.a.createElement(m.HorizontalGroup,{align:"center",justify:"center",spacing:"xs"},i.a.createElement(m.Spinner,{inline:!0})," ",this.props.initPhase)," ",i.a.createElement(m.HorizontalGroup,{align:"center",justify:"center"},i.a.createElement(m.Button,{variant:"secondary",size:"md",icon:"repeat",onClick:this.cancelVariables},"Cancel loading dashboard")))))}},{key:"renderInitFailedState",value:function(){var e=this.props.initError;return e?i.a.createElement("div",{className:"dashboard-loading"},i.a.createElement(m.Alert,{severity:v.AppNotificationSeverity.Error,title:e.message},Object(u.a)(e.error))):null}},{key:"getInspectPanel",value:function(){var e=this.props,t=e.dashboard,n=e.inspectPanelId;if(!t||!n)return null;var r=t.getPanelById(parseInt(n,10));return r||null}},{key:"render",value:function(){var e=this.props,t=e.dashboard,n=e.editview,r=e.$injector,o=e.isInitSlow,a=e.initError,l=e.inspectTab,c=e.isPanelEditorOpen,s=e.updateLocation,u=this.state,f=u.editPanel,g=u.viewPanel,y=u.scrollTop,v=u.updateScrollTop;if(!t)return o?this.renderSlowInitState():null;var j=25*Math.round(y/25),S=this.getInspectPanel();return i.a.createElement("div",{className:"dashboard-container"},i.a.createElement(d.a,{dashboard:t,isFullscreen:!!g,$injector:r,onAddPanel:this.onAddPanel}),i.a.createElement("div",{className:"dashboard-scroll"},i.a.createElement(m.CustomScrollbar,{autoHeightMin:"100%",setScrollTop:this.setScrollTop,scrollTop:v,hideHorizontalTrack:!0,updateAfterMountMs:500},i.a.createElement("div",{className:"dashboard-content"},a&&this.renderInitFailedState(),!f&&i.a.createElement(w.a,{dashboard:t,annotations:t.annotations.list,links:t.links}),i.a.createElement(p.a,{dashboard:t,viewPanel:g,editPanel:f,scrollTop:j,isPanelEditorOpen:c})))),S&&i.a.createElement(O.a,{dashboard:t,panel:S,defaultTab:l}),f&&i.a.createElement(h.a,{dashboard:t,sourcePanel:f}),n&&i.a.createElement(b.a,{dashboard:t,updateLocation:s,editview:n}))}}])&&D(n.prototype,r),a&&D(n,a),t}(a.PureComponent),z=function(e){return{urlUid:e.location.routeParams.uid,urlSlug:e.location.routeParams.slug,urlType:e.location.routeParams.type,editview:e.location.query.editview,urlPanelId:e.location.query.panelId,urlFolderId:e.location.query.folderId,urlEditPanelId:e.location.query.editPanel,urlViewPanelId:e.location.query.viewPanel,inspectPanelId:e.location.query.inspect,initPhase:e.dashboard.initPhase,isInitSlow:e.dashboard.isInitSlow,initError:e.dashboard.initError,dashboard:e.dashboard.getModel(),inspectTab:e.location.query.inspectTab,isPanelEditorOpen:e.panelEditor.isOpen}},N={initDashboard:g.a,cleanUpDashboardAndVariables:j.c,notifyApp:y.b,updateLocation:y.d,cancelVariables:S.a};t.default=Object(l.hot)(e)(Object(c.connect)(z,N)(R))}.call(this,n("3UD+")(e))},"nU/Z":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n("q1tI"),o=n.n(r),a=n("0cfB"),i=n("ChGz"),l=n.n(i),c=n("TSYQ"),s=n.n(c),u=n("IZOP"),f=n.n(u),p=n("eIbz"),d=n("FFox"),b=n("eXZ6"),h=n("Yuww"),m=n("pugT"),g=n("xAj+");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=1200,E=!1;var x=f()({monitorWidth:!0})((function(e){var t=e.size,n=e.layout,r=e.onLayoutChange,a=e.children,i=e.onDragStop,c=e.onResize,s=e.onResizeStop,u=e.className,f=e.isResizable,p=e.isDraggable,d=e.viewPanel,h=t.width>0?t.width:P;h!==P&&(E?E=!1:!d&&Math.abs(h-P)>8&&(P=h));var m=!(h<=769)&&p;return o.a.createElement(l.a,{width:P,className:u,isDraggable:m,isResizable:f,containerPadding:[0,0],useCSSTransforms:!1,margin:[b.e,b.e],cols:b.f,rowHeight:b.d,draggableHandle:".grid-drag-handle",layout:n,onResize:c,onResizeStop:s,onDragStop:i,onLayoutChange:r},a)})),C=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=w(this,(e=j(t)).call.apply(e,[this].concat(o)))).panelMap={},n.panelRef={},n.eventSubs=new m.a,n.onLayoutChange=function(e){var t=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var l=a.value;n.panelMap[l.i].updateGridPos(l)}}catch(e){r=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}n.props.dashboard.sortPanelsByGridPos(),n.forceUpdate()},n.triggerForceUpdate=function(){n.forceUpdate()},n.updateGridPos=function(e,t){n.panelMap[e.i].updateGridPos(e),n.onLayoutChange(t)},n.onResize=function(e,t,r){n.panelMap[r.i].updateGridPos(r)},n.onResizeStop=function(e,t,r){n.updateGridPos(r,e)},n.onDragStop=function(e,t,r){n.updateGridPos(r,e)},n.isInView=function(e){if(e.isViewing||e.isEditing)return!0;var t=n.panelRef[e.id.toString()];if(!t)return!1;var r=t.offsetTop,o=r+(e.gridPos.h*b.d+40),a=n.props.scrollTop;return!(a>o+250)&&(!(r>a+(isNaN(window.innerHeight)?window.clientHeight:window.innerHeight)+250)&&!n.props.dashboard.otherPanelInFullscreen(e))},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.dashboard;this.eventSubs.add(e.events.subscribe(g.DashboardPanelsChangedEvent,this.triggerForceUpdate))}},{key:"componentWillUnmount",value:function(){this.eventSubs.unsubscribe()}},{key:"buildLayout",value:function(){var e=[];this.panelMap={};var t=!0,n=!1,r=void 0;try{for(var o,a=this.props.dashboard.panels[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,l=i.id.toString();if(this.panelMap[l]=i,i.gridPos){var c={i:l,x:i.gridPos.x,y:i.gridPos.y,w:i.gridPos.w,h:i.gridPos.h};"row"===i.type&&(c.w=b.f,c.h=1,c.isResizable=!1,c.isDraggable=i.collapsed),e.push(c)}else console.log("panel without gridpos")}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"renderPanels",value:function(){var e=this,t=[],n=!0,r=!1,a=void 0;try{for(var i,l=function(){var n=i.value,r=s()({"react-grid-item--fullscreen":n.isViewing}),a=n.id.toString();n.isInView=e.isInView(n),t.push(o.a.createElement("div",{key:a,className:r,id:"panel-"+a,ref:function(t){return t&&(e.panelRef[a]=t)}},e.renderPanel(n)))},c=this.props.dashboard.panels[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)l()}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}},{key:"renderPanel",value:function(e){return"row"===e.type?o.a.createElement(d.a,{panel:e,dashboard:this.props.dashboard}):"add-panel"===e.type?o.a.createElement(p.a,{panel:e,dashboard:this.props.dashboard}):o.a.createElement(h.a,{panel:e,dashboard:this.props.dashboard,isEditing:e.isEditing,isViewing:e.isViewing,isInView:e.isInView})}},{key:"render",value:function(){var e=this.props,t=e.dashboard,n=e.viewPanel;return o.a.createElement(x,{className:s()({layout:!0}),layout:this.buildLayout(),isResizable:t.meta.canEdit,isDraggable:t.meta.canEdit,onLayoutChange:this.onLayoutChange,onDragStop:this.onDragStop,onResize:this.onResize,onResizeStop:this.onResizeStop,viewPanel:n},this.renderPanels())}}])&&O(n.prototype,r),a&&O(n,a),t}(r.PureComponent);Object(a.hot)(e)(C)}).call(this,n("3UD+")(e))},q78g:function(e,t,n){"use strict";function r(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,o=e.cols;return(r-t[0]*(o-1)-2*n[0])/o}function o(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function a(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=r,t.calcGridItemWHPx=o,t.calcGridItemPosition=function(e,t,n,a,i,l){var c=e.margin,s=e.containerPadding,u=e.rowHeight,f=r(e),p={};l&&l.resizing?(p.width=Math.round(l.resizing.width),p.height=Math.round(l.resizing.height)):(p.width=o(a,f,c[0]),p.height=o(i,u,c[1]));l&&l.dragging?(p.top=Math.round(l.dragging.top),p.left=Math.round(l.dragging.left)):(p.top=Math.round((u+c[1])*n+s[1]),p.left=Math.round((f+c[0])*t+s[0]));return p},t.calcXY=function(e,t,n,o,i){var l=e.margin,c=e.cols,s=e.rowHeight,u=e.maxRows,f=r(e),p=Math.round((n-l[0])/(f+l[0])),d=Math.round((t-l[1])/(s+l[1]));return p=a(p,0,c-o),d=a(d,0,u-i),{x:p,y:d}},t.calcWH=function(e,t,n,o,i){var l=e.margin,c=e.maxRows,s=e.cols,u=e.rowHeight,f=r(e),p=Math.round((t+l[0])/(f+l[0])),d=Math.round((n+l[1])/(u+l[1]));return p=a(p,0,s-o),d=a(d,0,c-i),{w:p,h:d}},t.clamp=a},q7TX:function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},t3DW:function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},wnTG:function(e,t,n){"use strict";var r=n("UL9e");function o(){var e={},t=0,n=0,r=0;return{add:function(o,a){a||(a=o,o=0),o>n?n=o:o<r&&(r=o),e[o]||(e[o]=[]),e[o].push(a),t++},process:function(){for(var t=r;t<=n;t++)for(var o=e[t],a=0;a<o.length;a++){(0,o[a])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),a=r.getOption(e,"auto",!0);a&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var i,l=o(),c=!1;function s(){for(c=!0;l.size();){var e=l;l=o(),e.process()}c=!1}function u(){var e;e=s,i=setTimeout(e,0)}return{add:function(e,t){!c&&a&&n&&0===l.size()&&u(),l.add(e,t)},force:function(e){c||(void 0===e&&(e=n),i&&(clearTimeout(i),i=null),e?u():s())}}}},yUZ2:function(e,t,n){"use strict";var r=n("t3DW").forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,a=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var i=function(){var e=document.createElement("div");e.style.cssText=c(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=c(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}();function l(e){!function(e,t,n){if(!e.getElementById(t)){var r=n+"_animation",o=n+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+n+" > div::-webkit-scrollbar { "+c(["display: none"])+" }\n\n",a+="."+o+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",a+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,r){r=r||function(t){e.head.appendChild(t)};var o=e.createElement("style");o.innerHTML=n,o.id=t,r(o)}(a+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style","erd_scroll_detection_container")}function c(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function s(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function u(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function f(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function p(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return l(window.document),{makeDetectable:function(e,l,u){function d(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(a.get(l),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function b(e){var t=o(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function h(){var e=window.getComputedStyle(l),t={};return t.position=e.position,t.width=l.offsetWidth,t.height=l.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function m(){if(d("storeStyle invoked."),o(l)){var e=h();o(l).style=e}else d("Aborting because element has been uninstalled")}function g(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function y(){return 2*i.width+1}function v(){return 2*i.height+1}function O(e){return e+10+y()}function w(e){return e+10+v()}function j(e,t,n){var r=f(e),o=p(e),a=O(t),i=w(n),l=function(e){return 2*e+y()}(t),c=function(e){return 2*e+v()}(n);r.scrollLeft=a,r.scrollTop=i,o.scrollLeft=l,o.scrollTop=c}function S(){var e=o(l).container;if(!e){(e=document.createElement("div")).className="erd_scroll_detection_container",e.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(l).container=e,function(e){e.className+=" erd_scroll_detection_container_animation_active"}(e),l.appendChild(e);var t=function(){o(l).onRendered&&o(l).onRendered()};s(e,"animationstart",t),o(l).onAnimationStart=t}return e}function P(){if(d("Injecting elements"),o(l)){!function(){var n=o(l).style;if("static"===n.position){l.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var o=n[r];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,l,n,"top"),r(t,l,n,"right"),r(t,l,n,"bottom"),r(t,l,n,"left")}}();var n=o(l).container;n||(n=S());var r,a,u,f,p=i.width,b=i.height,h=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),m=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+p))?r+"px":"0"),"top: "+(a=(a=-(1+b))?a+"px":"0"),"right: "+(f=(f=-p)?f+"px":"0"),"bottom: "+(u=(u=-b)?u+"px":"0")])),g=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=c(["position: absolute","left: 0","top: 0"]),O=c(["position: absolute","width: 200%","height: 200%"]),w=document.createElement("div"),j=document.createElement("div"),P=document.createElement("div"),E=document.createElement("div"),x=document.createElement("div"),C=document.createElement("div");w.dir="ltr",w.style.cssText=h,w.className="erd_scroll_detection_container",j.className="erd_scroll_detection_container",j.style.cssText=m,P.style.cssText=g,E.style.cssText=v,x.style.cssText=y,C.style.cssText=O,P.appendChild(E),x.appendChild(C),j.appendChild(P),j.appendChild(x),w.appendChild(j),n.appendChild(w),s(P,"scroll",D),s(x,"scroll",k),o(l).onExpandScroll=D,o(l).onShrinkScroll=k}else d("Aborting because element has been uninstalled");function D(){o(l).onExpand&&o(l).onExpand()}function k(){o(l).onShrink&&o(l).onShrink()}}function E(){function i(t,n,r){var o=function(e){return f(e).childNodes[0]}(t),a=O(n),i=w(r);o.style.setProperty("width",a+"px",e.important?"important":""),o.style.setProperty("height",i+"px",e.important?"important":"")}function c(r){var c=l.offsetWidth,u=l.offsetHeight,f=c!==o(l).lastWidth||u!==o(l).lastHeight;d("Storing current size",c,u),g(l,c,u),n.add(0,(function(){if(f)if(o(l))if(s()){if(e.debug){var n=l.offsetWidth,r=l.offsetHeight;n===c&&r===u||t.warn(a.get(l),"Scroll: Size changed before updating detector elements.")}i(l,c,u)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")})),n.add(1,(function(){o(l)?s()?j(l,c,u):d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")})),f&&r&&n.add(2,(function(){o(l)?s()?r():d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")}))}function s(){return!!o(l).container}function u(){d("notifyListenersIfNeeded invoked");var e=o(l);return void 0===o(l).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(o(l).listeners,(function(e){e(l)})))}function h(){d("Scroll detected."),b(l)?d("Scroll event fired while unrendered. Ignoring..."):c(u)}if(d("registerListenersAndPositionElements invoked."),o(l)){o(l).onRendered=function(){if(d("startanimation triggered."),b(l))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var e=f(l),t=p(l);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(d("Scrollbars out of sync. Updating detector elements..."),c(u))}},o(l).onExpand=h,o(l).onShrink=h;var m=o(l).style;i(l,m.width,m.height)}else d("Aborting because element has been uninstalled")}function x(){if(d("finalizeDomMutation invoked."),o(l)){var e=o(l).style;g(l,e.width,e.height),j(l,e.width,e.height)}else d("Aborting because element has been uninstalled")}function C(){u(l)}function D(){var e;d("Installing..."),o(l).listeners=[],e=h(),o(l).startSize={width:e.width,height:e.height},d("Element start size",o(l).startSize),n.add(0,m),n.add(1,P),n.add(2,E),n.add(3,x),n.add(4,C)}u||(u=l,l=e,e=null),e=e||{},d("Making detectable..."),!function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===window.getComputedStyle(e)}(l)?D():(d("Element is detached"),S(),d("Waiting until element is attached..."),o(l).onRendered=function(){d("Element is now attached"),D()})},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&u(f(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&u(p(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&u(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:l}}}}]);
//# sourceMappingURL=DashboardPage.1c3a1c85d09a392be724.js.map